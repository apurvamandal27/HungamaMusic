var ha_hls,ver_check="audio player updated on: 19/02/2018 | 16:18";console.log(ver_check);var locationProtocol=location.protocol,globalPath=location.protocol+"//player.hungama.com/lap/v2.0/",gdev=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase());if(!gdev){var slim_scroll=document.createElement("script");slim_scroll.type="text/javascript",slim_scroll.src=globalPath+"js/jquery.slimscroll.js",$("head").append(slim_scroll)}var oldItem=[],qualityArray=["low","medium","high"],preserve={},discoverData={};preserve.quality="low",preserve.volume="50",preserve.dis_moodList={1:"Heart Broken",2:"Soulful",3:"Chilled Out",4:"Happy",5:"Just Tripping",7:"Romantic",8:"Party"},preserve.dis_langList={Recommended:"recommended",Hindi:"hindi","Retro Hindi":"retro-hindi",English:"english",Punjabi:"Punjabi",Telugu:"telugu",Tamil:"tamil",Kannada:"kannada",Malayalam:"malayalam",Bengali:"bengali",Bhojpuri:"bhojpuri",Gujarati:"gujarati",Marathi:"marathi",Rajasthani:"rajasthani",Oriya:"oriya"},preserve.pageLanguage="Recommended",preserve.discoverPlayed=!1;var currentT,audio,apSlider,trackCount,albumData,errMsg,nextSonginterval,oldPlayTime=[],playedDuration=[],repeatMode="off",shuffleSong=firstTime=nextsongFired=volumebarEntered=!1,repeatSong=seekTrack=trackingFired=!1,seek_count=playedDurationTime=bufferTime=playeStart=bufa=a=b=bufb=buffer_time=oldSong_idmigration=song_index=volume_on_mute=pause_count=0,ha_configObj={autoStart:!1,loginStatus:"false",platform:"WAP",property:"HUNGAMA",subscribeStatus:"false",subscriptionPrice:"0",email:"",userid:"",operator:"",msisdn:"",showDiscover:!1};if(!("mediaSession"in navigator)){var t=$("#logDiv").html()+"<br/>The Media Session API is not yet available. Try Chrome for Android.";$("#logDiv").html(t)}function initAudioPlayer(a,e,i){$.extend(!0,ha_configObj,i),albumData=e;$("#"+a).append('<audio id="hungama_audio_player" autoplay preload="auto"></audio><div class="playerArtwork"><img src="" class="artworkImg" /></div><div class="hungama_audioplayer_skin  clearfix" id="hungama_ap"><div class="ha_player-playerControls clearfix"><div><a href="javascript:" class="ha_player-btnRepeat hideMobile" data-tooltip="Repeat"><i class="icon-ic_repeat_1-35"></i><span>1</span></a><a href="javascript:" class="ha_player-btnPrevious hideMobile"  data-tooltip="Previous"><span class="icon-ic_previous-86"></span></a><a href="javascript:" class="ha_player-btnPlay " data-tooltip="Play"><span class="icon-ic_play" id="ha_btnPlay"></span></a><a href="javascript:" class="ha_player-btnNext"  data-tooltip="Next"><span class="icon-ic_next-87"></span></a><a href="javascript:" class="ha_player-btnShuffle hideMobile" data-tooltip="Shuffle"><span class="icon-ic_shuffle_1-34"></span></a></div></div><div class="ha_player-progress" id="progressBar"><div class="" id="buffered_data"></div></div><div class="ha_player-songs-dtls"><img src="" alt="" class="ha_player-albumThumb hideMobile"><div class="ha_player-songInfo"><p class="ha_player-songName"></p><p class="ha_player-songAlbum"></p></div></div><div class="ha_player-playerControls-other clearfix"><div class="hideMobile FL" id="hap_timeStamp"><span class="hap_currentTime">00:00</span> <span>/</span> <span class="hap_duration">00:00</span></div><div class="FL"><a href="javascript:" class="ha_player-download showMobile" data-tooltip="Download"><i class="icon-ic_mp3-72"></i></a><a href="javascript:" class="ha_player-moredetails showMobile"><i class="icon-ic_more_ver_1-05"></i></a><a href="javascript:" onclick="favouriteSong()"  data-tooltip="Favourite" class="ha_player-favourite hideMobile"><i><span class="icon-ic_favourite_1-46"></span></i></a><a href="javascript:" class="ha_player-moredetails hideMobile"><i data-tooltip="More options"><span class="icon-ic_more_ver_1-05"></span></i></a><div class="hideMobile  ha_player_volume"><a href="javascript:" class="ha_player-volue-bar"><i class="icon-ic_volume_1-37"></i></a><div class="ha_player-volume-box"><div class="ha_player-volume-box-inner"><input id="ha_player-volume-amount" type="hidden" value="80"/><div id="ha_player-volume"></div></div></div></div><a href="javascript:" class="ha_player-queue"><i data-tooltip="Queue"><span class="icon-ic_queue-82"></span></i></a><a href="javascript:" class="ha_player-settings hideMobile" onclick="playerSettings()"><i data-tooltip="Settings"><span class="icon-ic_settings_1-09"></span></i></a></div><div id="discover"><div class="gradiant"></div><div class="handlebox"><span class="handle"></span></div><div class="discoverInner"><div class="discover_Sections clearfix"  id="dis_mood"><h3>Mood</h3><div class="discover_Sections_inner"><ul id="mood_List" class="list"></ul></div></div><div class="discover_Sections clearfix" id="dis_lang"><h3>Language</h3><div class="discover_Sections_inner"><div class="language_ddl"><select></select></div><div class="discover_genres"><ul id="genre_List" class="list"><li data-genre="all"><input id="all" name="genre_List_radio" type="radio"> <label for="all"><span></span> All</label></li><li data-genre="pop"><input id="pop" name="genre_List_radio" type="radio"> <label for="pop"><span></span> Pop</label></li><li data-genre="dance"><input id="dance" name="genre_List_radio" type="radio"> <label for="dance"><span></span>  Dance</label></li><li data-genre="hiphop"><input id="hiphop" name="genre_List_radio" type="radio"> <label for="hiphop"><span></span> Hip Hop</label></li><li data-genre="rock"><input id="rock" name="genre_List_radio" type="radio"> <label for="rock"><span></span>  Rock</label></li><li data-genre="alternative"><input id="alternative" name="genre_List_radio" type="radio"> <label for="alternative"><span></span> Alternative</label></li></ul></div></div></div><div class="small3"><div class="discover_Sections clearfix" id="dis_era"><div class="clearfix"><div class="era_text">50\'s - 2017</div><h3>Era</h3></div><div class="discover_Sections_inner"><span class="eraSlidertxt_from">50\'s</span><div id="discover-Era"></div><span class="eraSlidertxt_to">2017</span></div></div><div class="discover_Sections clearfix" id="dis_tempo"><h3>Tempo</h3><div class="discover_Sections_inner"><ul id="Tempo_List" class="list"><li data-tempo="Auto"><input id="Auto" name="tempo_radio" type="radio" checked> <label for="Auto"><span></span> Auto</label></li><li data-tempo="Low"><input id="Low" name="tempo_radio" type="radio"> <label for="Low"><span></span> Low</label></li><li data-tempo="Medium"><input id="Medium" name="tempo_radio" type="radio"> <label for="Medium"><span></span> Medium</label></li><li data-tempo="High"><input id="High" name="tempo_radio" type="radio"> <label for="High"><span></span> High</label></li></ul></div></div></div></div></div></div></div><div class="ha_player-pop" id="ha_player-queue-pop"><div class="ha_player-pop-inner"><div class="pop-head clearfix"> <h2 class="popHeader">Queue</h2> <ul class="queuebox"> <li><a class="ha_player-playlist-load"  href="javascript:;">Load</a></li><li><a class="ha_player-playlist-save" href="javascript:;">Save</a></li><li><a class="ha_player-clearq" href="javascript:;" onclick="removeallSongs()">Clear all</a></li><li><span class="icon-ic_cancel-83 inside" onclick="hideQue()"></span></li></ul> </div><div class="clearfix popContent"> <ul class="ha_player_songlist"></ul> </div></div></div>').addClass("ha_player hide_audioPlayer"),hungama_AP_init(),ha_configObj.showDiscover,gdev&&$(".ha_player").hasClass("hap_discover")&&($("#discover").addClass("mobile"),$(window).width()>$(window).height()?($("#discover .discoverInner").width($(window).width()-60),$("#discover").addClass("landscape")):$("#discover").removeClass("landscape"))}function setControls(){if($(window).width()>800){var a=$(window).width()-($(".ha_player-songs-dtls").width()+$(".ha_player-playerControls-other").width());a=a/2-$(".ha_player-playerControls").width()/2,$(".ha_player-playerControls").css({"margin-left":a+"px",position:"relative"}),$(".ha_player-songs-dtls").css({"margin-left":"0px"})}else $(".ha_player-playerControls").css({position:"absolute",left:"0px","margin-left":"0px"}),$(".ha_player-songs-dtls").css({"margin-left":$(".ha_player-playerControls").width()+15+"px"})}function hungama_AP_init(){audio=$("#hungama_audio_player")[0],playing=!1,playedDurationTime=0,trackCount=albumData.length,playableURL="",firsTime=!0,audio.addEventListener("play",function(){0==a&&(a=setInterval(function(){bufa++},1e3),b=setInterval(function(){bufb++},1e3)),playing=!1,trackingFired=!1,$("#ha_btnPlay").removeClass("icon-ic_play").addClass("icon-ic_pause").show(),oldSong_idmigration=albumData[song_index].id_migration,"function"==typeof hap_playing&&hap_playing(),"ondemand_radio"==albumData[song_index].contenttype?$(".ha_player").hasClass("ondemand_radio")||$(".ha_player").removeClass("live_radio").addClass("ondemand_radio"):"live_radio"==albumData[song_index].contenttype?$(".ha_player").hasClass("live_radio")||$(".ha_player").removeClass("ondemand_radio").addClass("live_radio"):$(".ha_player").removeClass("live_radio ondemand_radio"),firsTime=!1,audio.volume=preserve.volume/100,Hls.isSupported()&&"hls"==albumData[song_index].type&&playing&&(ha_hls.currentLevel=parseInt(qualityArray.indexOf(preserve.quality))),$(".ha_player-favourite .icon-ic_favourite_1-46").attr("id","hap_"+albumData[song_index].id_migration)}),audio.addEventListener("timeupdate",function(){if(audio.currentTime>1&&song_index==trackCount-1&&"live_radio"!=albumData[song_index].contenttype&&"function"==typeof jw_getAutoNextSong&&"off"==repeatMode&&(nextsongFired||(jw_getAutoNextSong(),nextsongFired=!0)),$(".hap_currentTime").html(playerTimer(audio.currentTime)),audio.currentTime>0&&$("#ha_btnPlay").removeClass("hap_buffering"),"live_radio"==albumData[song_index].contenttype)var a=99.3;else if(trackCount>0)a=audio.currentTime/audio.duration*100;else a=0;seekTrack||$("#progressBar").slider("value",a),$(".ha_player_songlist li").eq(song_index).find(".equlizer").show()}),audio.addEventListener("pause",function(){$("#ha_btnPlay, .playerqlist .thumbOverlay i").removeClass("icon-ic_pause").addClass("icon-ic_play"),playing=!1,pause_count++,"function"==typeof hap_songPaused&&audio.currentTime<audio.duration&&hap_songPaused(),preserve.pauseTime=parseInt(audio.currentTime),preserve.startTime=preserve.pauseTime,$(".ha_player_songlist li").eq(song_index).find(".equlizer").hide()}),audio.addEventListener("ended",function(){$(".ha_player #buffered_data").width(0),$("#progressBar").slider("value",0),$("#buffered_data").css("width","0%"),"function"==typeof hap_songEnded&&hap_songEnded(),trackCount>1||"off"!=repeatMode?song_index<=trackCount-1?changeSong("next"):(oldItem.push(song_index),prepareParams_html5Audio()):(audio.currentTime=0,oldItem.push(song_index),prepareParams_html5Audio()),$(".hap_duration, .hap_currentTime").html("00:00"),$(".ha_player #ha_player-queue-pop li.current .thumbOverlay i").removeClass(".icon-ic_pause").addClass("icon-ic_play")}),changeSong=function(a){playedDuration.push(audio.currentTime-playeStart),playedDurationTime+=audio.currentTime-playeStart,preserve.endTime=audio.currentTime,preserve.songPlayedTime=playedDurationTime,Hls.isSupported()&&"hls"==albumData[song_index].type&&"one"!=repeatMode&&!preserve.isSafari&&ha_hls.detachMedia(),"one"==repeatMode?(oldItem.push(song_index),audio.currentTime=0,audio.play()):"all"==repeatMode?(shuffleSong?song_index=Math.floor(Math.random()*trackCount+0):song_index+1==trackCount?song_index=0:song_index++,oldItem.push(song_index),loadTrack(song_index)):shuffleSong?(song_index=Math.floor(Math.random()*trackCount+0),oldItem.push(song_index),loadTrack(song_index)):song_index+1<trackCount||song_index-1>=0?("next"==a?song_index++:"prev"==a&&song_index--,oldItem.push(song_index),loadTrack(song_index)):(audio.pause(),song_index=0,loadTrack(song_index)),trackingFired||prepareParams_html5Audio()},load_new_playlist=function(a,e){playedDuration.push(audio.currentTime-playeStart),playedDurationTime+=audio.currentTime-playeStart,preserve.endTime=audio.currentTime,preserve.songPlayedTime=playedDurationTime,preserve.albumData=albumData[song_index],$(".ha_player").hasClass("hide_audioPlayer")?$(".ha_player .ha_player-playerControls").fadeOut():$(".ha_player .ha_player-playerControls").fadeIn(),song_index=e||0,playing=!1,trackCount=(albumData=a).length,playTrack(song_index),hidePop(),$(".ha_player-pop").hasClass("show")&&hideQue(),oldItem.push(song_index),prepareParams_html5Audio("loadNew")},add_to_queue=function(a){1==albumData[song_index].id_migration?load_new_playlist(a):(trackCount=(albumData=a).length,nextPrevDis(song_index),songlist()),hidePop(),$(".ha_player-pop").hasClass("show")&&hideQue()},songlist=function(){var a="",e="";(trackCount=albumData.length)>0&&$("#ha_btnPlay, .hungama_ap-queue .icon-ic_queue").removeClass("disabled");for(var i=0;i<=trackCount-1;i++){e=song_index!=i||audio.paused?"icon-ic_play":"icon-ic_pause";var o=song_index==i?"current":"",s=""!=albumData[i].singer_name?" - "+albumData[i].singer_name:"";a+='<li class="clearfix '+o+'" data-song-index="'+i+'"><div class="hideMobile shuffle_ic"></div><div class="ha_player-albumThumb"><img src="'+albumData[i].img_src+'" id="ha_poster_'+i+'"><span class="thumbOverlay"><i class="'+e+'"></i></span></div><div class="ha_player-songInfo ha_player-songInfo-current"><p class="ha_player-songName">'+albumData[i].song_name+'</p><p class="ha_player-songAlbum">'+albumData[i].album_name+" "+s+'</p></div><div class="FR clearfix queueMore"> <a href="javascript:" class="ha_player-moredetails"><i class=" icon-ic_more_ver_1-05"></i></a></div><div class="equlizer"><img src="'+location.protocol+'//player.hungama.com/lap/v2.0/images/equ.gif"></div></li>'}$(".slimScrollDiv").length>0&&$(".ha_player #ha_player-queue-pop .ha_player_songlist").slimScroll({destroy:!0}),$(".ha_player #ha_player-queue-pop .popContent").empty().html("<ul class='ha_player_songlist'></ul>").find(".ha_player_songlist").append(a),$("#ha_player-queue-pop").hasClass("show")&&($(".slimScrollDiv").blur(),setTimeout(function(){setQueue_scroll()},300))},moreDetailsQue=$(".ha_player").on("click","#ha_player-queue-pop li .ha_player-moredetails",function(a){$(".song_que_popup").remove(),$("#ha_player-queue-pop li .ha_player-pop").remove();var e=$(this).parents("li").attr("data-song-index"),i='<div class="ha_player-pop song_que_popup" id="que_more_'+e+'"><ul class="list_options">';if(i+='<li><a href="javascript:" class="ha_player-download" onclick="downloadSong('+e+')"><span class="icon-ic_mp3-72"></span> Get MP3</a></li><li><a href="javascript:" onClick="favouriteSong('+e+')" class="ha_player-favourite"><i><span class="icon-ic_favourite_1-46" id="hap_1231"></span></i> Add to favorite</a></li>',albumData[e].lyrics&&""!=albumData[e].lyrics&&(i+='<li><a href="javascript:" class="hap_lyrics ha_player_lyrics" onclick="showLyrics_pop('+e+')"><span class="icon-ic_lyrics-71"></span>Lyrics</a></li>'),i+='<li><a href="javascript:;" class="ha_player-share" onclick="shareSong('+e+')"><span class="icon-ic_share_1-17"></span> Share</a> </li><li><a href="javascript:;" class="ha_player-playlist-save"><span class="icon-add_playlist_1-16"></span> Add to Playlist</a></li>',e!=song_index&&(i+='<li><a class="ha_player-removeSong" href="javascript:" onclick="removeSong('+e+',event)"><span class="icon-ic_delete"></span>Delete</a></li>'),i+='<li><a class="ha_player-songInfomation" href="javascript:" onclick="showInfo('+e+')"><span class="icon-info_1-15"></span> View details</a></li>',i+="</ul></div>",gdev){hidePop();var o='<div class="playerOverlay" id="song_que_popup">'+i+"</div>";$(".ha_player").append(o),$("#que_more_"+e).center_hapop()}else $(".ha_player").append(i),posleft=a.clientX-$("#que_more_"+e).outerWidth()-10,posTop=a.clientY-$("#que_more_"+e).height(),$("#que_more_"+e).css({position:"fixed",top:posTop,left:posleft,display:"block"}),$(".ha_player").on("mouseleave","#que_more_"+e,function(){$("#que_more_"+e).remove()}),timeoutHandle=setTimeout(function(){$("#que_more_"+e).length>0&&$("#que_more_"+e).remove()},5e3),$("#ha_player-queue-pop").on("mouseenter","#que_more_"+e,function(){clearTimeout(timeoutHandle),timeoutHandle=null});albumData[e].lyrics&&""!=albumData[e].lyrics||$(".hap_lyrics").hide()}),$.fn.center_hapop=function(){return this.css("position","fixed"),this.css("top",$(window).height()/2-this.height()/2+"px"),this.css("left",$(window).width()/2-this.width()/2+"px"),this},setQueue_scroll=function(){var a=$(".ha_player #ha_player-queue-pop .ha_player_songlist li").outerHeight()*$(".ha_player #ha_player-queue-pop .ha_player_songlist li").length;scroll_height=($(window).height()-$(".ha_player").height())/1.5,$(".ha_player #ha_player-queue-pop .ha_player_songlist").css({"max-height":scroll_height}),gdev?$(".ha_player #ha_player-queue-pop .ha_player_songlist").css({"max-height":scroll_height,overflow:"auto"}):(a>scroll_height?$(".ha_player #ha_player-queue-pop .ha_player_songlist").slimScroll({height:scroll_height,distance:"7px",scrollBy:"200px"}).bind("slimScroll",function(a,e){console.log("Reached "+e)}):($(".ha_player #ha_player-queue-pop .ha_player_songlist").css({height:"auto"}),scroll_height="auto"),$(".ha_player #ha_player-queue-pop .popContent").css({height:scroll_height,overflow:"hidden"}),$(".ha_player #ha_player-queue-pop .ha_player_songlist").sortable().on("sortupdate",function(a,e){temp_json=[],$.each($(".ha_player #ha_player-queue-pop .ha_player_songlist>li"),function(a,e){temp_json.push(albumData[$(e).attr("data-song-index")])}),albumData=temp_json,song_index=getIndex(),nextPrevDis(song_index),songlist()}))},getIndex=function(a){for(var e=-1,i=0;i<albumData.length;i++)albumData[i].id_migration==oldSong_idmigration&&(e=i);return e},loadTrack=function(a){playeStart=0,song_index=a,$(".ha_player .playerArtwork .artworkImg").attr("src",albumData[song_index].img_src),"live_radio"==albumData[song_index].contenttype||1==albumData[song_index].id_migration?getMp3(a):$.ajax({type:"POST",url:albumData[song_index].file,dataType:"json",xhrFields:{withCredentials:!0},success:function(e){albumData[song_index].file=e.response.media_url,albumData[song_index].type=e.response.type,getMp3(a)},error:function(e,i,o){getMp3(a)}})},playTrack=function(a){loadTrack(a)},getMp3=function(a){if($("#progressBar").slider("value",0),preserve.isSafari?(audio.crossOrigin="anonymous",playableURL=albumData[a].file,playableURL=playableURL.replace("hungcomiosta","securehungama"),audio.src=playableURL):Hls.isSupported()&&"hls"==albumData[a].type?(audio.crossOrigin="anonymous",-1!==albumData[a].file.indexOf("tstream")?hlsconfig={maxMaxBufferLength:30,defaultAudioCodec:"mp4a.40.2"}:(hlsconfig={maxMaxBufferLength:30,defaultAudioCodec:"mp4a.40.2",xhrSetup:function(a,e){a.withCredentials=!0}},-1!==albumData[a].file.indexOf("hungcomiosta")&&(albumData[a].file=albumData[a].file.replace("hungcomiosta","securehungama"))),(ha_hls=new Hls(hlsconfig)).loadSource(albumData[a].file),ha_hls.attachMedia(audio),ha_hls.on(Hls.Events.MANIFEST_PARSED,function(){$(".ha_player #buffered_data").width(0)}),ha_hls.on(Hls.Events.FRAG_LOAD_PROGRESS,function(a,e){var i=e.frag.start/audio.duration*100;$(".ha_player #buffered_data").css({width:i+"%"})}),ha_hls.on(Hls.Events.ERROR,function(a,e){if(e.fatal)switch(e.type){case Hls.ErrorTypes.NETWORK_ERROR:console.log("fatal network error encountered, try to recover, destroying current stream and sending a call for backup stream");break;case Hls.ErrorTypes.MEDIA_ERROR:break;default:console.log("fatal media error encountered, destroying current stream and sending a call for backup stream"),hls.destroy()}})):($("#hungama_audio_player").removeAttr("crossOrigin"),playableURL=albumData[a].file,audio.src=playableURL),ha_configObj.autoStart?(gdev&&updateMetadata(),audio.play()):audio.pause(),$(".ha_player").hasClass("hide_audioPlayer")&&1!=albumData[a].id_migration&&$(".ha_player").removeClass("hide_audioPlayer"),preserve.startTime=0,"ondemand_radio"==albumData[a].contenttype||"live_radio"==albumData[a].contenttype)$("#hungama_ap .ha_player-songName").html(albumData[a].radio_name+" Radio"),$("#hungama_ap .ha_player-songAlbum").html('<span class="nowplaying">Now Playing </span>'+albumData[a].song_name+" - "+albumData[a].album_name),$("#hungama_ap .ha_player-btnPrevious").addClass("disabled"),displayNextSong();else{var e=""!=albumData[a].singer_name?" - "+albumData[a].singer_name:"";$("#hungama_ap .ha_player-songName").html(albumData[a].song_name),$("#hungama_ap .ha_player-songAlbum").html(albumData[a].album_name+e)}$("#hungama_ap .ha_player-albumThumb").attr("src",""+albumData[a].img_src),$("#hungama_ap .ttl").html(albumData[a].song_name+"<span class='subttl'>"+albumData[a].album_name+"</span>"),$("#progressBar").slider("value",0),nextPrevDis(a),nextsongFired=!1,$("#ha_player-queue-pop").hasClass("show")||songlist(),albumData[a].lyrics&&""!=albumData[a].lyrics||$(".hap_lyrics").hide(),$(".ha_player .ha_player-playerControls").fadeIn()},log=function(a){t=$("#logDiv").html()+"<br/> audio player: "+a,$("#logDiv").html(t),console.log("audio player: "+a)},displayNextSong=function(){clearInterval(nextSonginterval),nextSonginterval=null,next_song_displayed=!1,song_index<albumData.length-1&&"ondemand_radio"==albumData[song_index].contenttype?nextSonginterval=setInterval(function(){console.log("inside displayNextSong"),next_song_displayed?($("#hungama_ap .ha_player-songName").html(albumData[song_index].radio_name+" Radio"),$("#hungama_ap .ha_player-songAlbum").html('<span class="nowplaying">Now Playing </span>'+albumData[song_index].song_name+" - "+albumData[song_index].album_name),next_song_displayed=!1):($("#hungama_ap .ha_player-songName").html(albumData[song_index+1].radio_name+" Radio"),$("#hungama_ap .ha_player-songAlbum").html('<span class="nowplaying">Up Next </span>'+albumData[song_index+1].song_name+" - "+albumData[song_index+1].album_name),next_song_displayed=!0)},7e3):(clearInterval(nextSonginterval),nextSonginterval=null,next_song_displayed=!1)},showInfo=function(a){"function"==typeof jw_audio_info&&jw_audio_info(a),hidePop(),$(".ha_player #ha_player-queue-pop").hasClass("show")&&$(".ha_player #ha_player-queue-pop").removeClass("show")},playerTimer=function(a){a-=3600*Math.floor(a/3600);var e=Math.floor(a/60);a-=60*e;var i=parseInt(a%60,10);return(e<10?"0"+e:e)+":"+(i<10?"0"+i:i)},li=$(".ha_player #ha_player-queue-pop").on("click",".ha_player-albumThumb, .ha_player-songInfo",function(a){a.stopPropagation(),playedDuration.push(audio.currentTime-playeStart),playedDurationTime+=audio.currentTime-playeStart,preserve.endTime=audio.currentTime,preserve.songPlayedTime=playedDurationTime;var e=parseInt($(this).parents("li").index());playedDurationTime+=audio.currentTime-playeStart,$(this).parents("li").hasClass("current")?$(this).parents("li").find(".thumbOverlay i").hasClass("icon-ic_pause")?(audio.pause(),$(this).parents("li").find(".thumbOverlay i").removeClass("icon-ic_pause").addClass("icon-ic_play")):(audio.play(),$(".ha_player #ha_player-queue-pop .ha_player-albumThumb .thumbOverlay i").removeClass("icon-ic_pause").addClass("icon-ic_play"),$(this).parents("li").find(".thumbOverlay i").removeClass("icon-ic_play").addClass("icon-ic_pause")):(Hls.isSupported()&&"hls"==albumData[song_index].type&&!preserve.isSafari&&ha_hls.detachMedia(),oldItem.push(e),firstTime?e!==song_index&&loadTrack(e):(firstTime=!0,loadTrack(e)),prepareParams_html5Audio(),firsTime&&prepareParams_html5Audio(),$("#buffered_data").css("width","0%"),$(".ha_player #ha_player-queue-pop li").removeClass("current"),$(".ha_player #ha_player-queue-pop li .equlizer").hide(),$(".ha_player #ha_player-queue-pop .ha_player-albumThumb .thumbOverlay i").removeClass("icon-ic_pause").addClass("icon-ic_play"),$(this).parents("li").find(".thumbOverlay i").addClass("icon-ic_pause"),$(this).parents("li").addClass("current"))}),playerQueue=$(".ha_player").on("click",".ha_player-queue",function(a){if(a.stopPropagation(),$(this).find(".icon-ic_queue-82").hasClass("disabled"))return!1;$(".ha_player #ha_player-queue-pop").hasClass("show")?($(".ha_player #ha_player-queue-pop").removeClass("show").css({bottom:"-1000px"}),$("body").removeClass("fixed"),$(".ha_player-queue").removeClass("active")):(hidePop(),$(".ha_player").append("<div class='playerOverlay'></div>"),$(".ha_player #ha_player-queue-pop").addClass("show").css({bottom:$(".ha_player").height()}),$(".ha_player #ha_player-queue-pop .ha_player_songlist").show(),$(".ha_player-queue").addClass("active"),setQueue_scroll())}),overlayClicked=$(".ha_player").on("click touchStart",".playerOverlay",function(){hidePop()}),hidePop=function(){$("#ha_player-removeAll").length>0&&$("#ha_player-removeAll").remove(),$(".playerOverlay").length>0&&$(".playerOverlay").remove(),$("#hap-more-options").length>0&&$("#hap-more-options").remove(),$("#ha_player-settings").length>0&&$("#ha_player-settings").remove(),$("#ha_player-lyricsPop").length>0&&$("#ha_player-lyricsPop").remove(),$("#ha_player-commonPop").length>0&&$("#ha_player-commonPop").remove(),$(".song_que_popup").length>0&&$(".song_que_popup").remove(),$(".ha_player #ha_player-queue-pop").hasClass("show")&&$(".ha_player #ha_player-queue-pop").removeClass("show"),$(".active").removeClass("active")},hideQue=function(){$(".ha_player #ha_player-queue-pop").hasClass("show")&&($(".ha_player #ha_player-queue-pop").removeClass("show"),$("body").removeClass("fixed"),$(".ha_player-queue").removeClass("active"),$(".playerOverlay").length>0&&$(".playerOverlay").remove())},showTip=function(a){var e='<div class="hap-extra-pop" id="showTip">'+a+"</div>";$("body").append(e),setTimeout(function(){$("#showTip").addClass("show")},0),setTimeout(function(){$("#showTip").removeClass("show")},1500),setTimeout(function(){$("#showTip").remove()},2500)},removeallSongs=function(){hidePop(),hideQue();$(".ha_player").append('<div class="playerOverlay"></div><div class="ha_player-pop" id="ha_player-removeAll"><div class="clearfix pop-head clearfix"> <h2 class="popHeader">Clear Playlist</h2> <a href="javascript:" class=" icon-ic_cancel-83" onclick="hidePop()"></a> </div> <div class="ha_player-pop-inner"> <div class="popContent" style="padding: 10px 10px 0px;"><div class="pop-clear"><p>Clear all songs from queue?</p><a href="javascript:;" class="subbutton yesbtn">Yes</a><a href="javascript:;" class="button nobtn" onclick="hidePop()">No</a></div></div></div></div>'),$("#ha_player-removeAll").show().center_hapop(),$("#ha_player-removeAll .subbutton").click(function(){audio.pause(),albumData="",$(".ha_player").addClass("hide_audioPlayer"),"function"==typeof hap_queue_cleared&&hap_queue_cleared()}),$("#ha_player-removeAll .button").click(function(){hidePop(),hideQue()})},removeSong=function(a,e){if(e.stopPropagation,$(".ha_player #ha_player-queue-pop .ha_player_songlist li").eq(a).find(".ha_player-removeSong").hasClass("disabled"))return!1;if(albumData.splice(a,1),0==(trackCount=albumData.length))audio.pause(),$("#ha_btnPlay, .hungama_ap-queue .icon-ic_queue").addClass("disabled"),$(".song-info .song_title, .song-info .album_title").html(""),$("#progressBar").slider("value",0),hidePop(),hideQue();else if(trackCount>0&&song_index==a){var o=song_index;o>=trackCount&&(song_index=0),playing=!0,loadTrack(song_index),oldItem.push(song_index),prepareParams_html5Audio()}else trackCount>0&&song_index<a||trackCount>0&&song_index>a&&song_index--;for($(".ha_player #ha_player-queue-pop .ha_player_songlist li").eq(a).remove(),i=0;i<trackCount;i++)$(".ha_player #ha_player-queue-pop .ha_player_songlist li").eq(i).attr("data-song-index",i);nextPrevDis(song_index),$(".song_que_popup").remove(),$(".slimScrollDiv").length>0&&($(".ha_player #ha_player-queue-pop .ha_player_songlist").slimScroll({destroy:!0}),setTimeout(setQueue_scroll,300)),gdev&&$(".playerOverlay").length>0&&$(".playerOverlay").remove()},playerSettings=function(){if($(".ha_player #ha_player-queue-pop").removeClass("show"),$("#hap-more-options").length>0&&$("#hap-more-options").remove(),$(".ha_player-settings").hasClass("active"))hidePop(),$(".ha_player-settings").removeClass("active");else{hidePop();$(".ha_player").append('<div class="ha_player-pop" id="ha_player-settings"><div class="pop-head clearfix"><h2>MUSIC QUALITY</h2> </div> <div class="ha_player-pop-inner"> <ul class="qualityList"> <li data-quality="low"> <div> <input id="low" name="radio" type="radio"> <label for="low"><span></span>Low</label> <span class="qualityValue">32 kbps</span> </div></li><li data-quality="medium"> <div> <input id="medium" name="radio" type="radio"> <label for="medium"><span></span>Medium</label> <span class="qualityValue">64 kbps</span> </div></li><li data-quality="high"> <div> <input id="high" name="radio" type="radio"> <label for="high"><span></span>High</label> <span class="qualityValue">128 kbps</span> </div></li><li style="display:none;"> <div> <input id="hd" name="radio" type="radio"> <label for="hd"><span></span>HD</label> <span class="qualityValue">320 kbps</span> </div></li><li style="display:none;"> <div> <input id="auto" name="radio" checked="checked" type="radio"> <label for="auto"><span></span>Auto</label> </div></li></ul> </div></div>'),$("#ha_player-settings li").eq(qualityArray.indexOf(preserve.quality)).find("input").attr("checked",!0),$("#ha_player-settings").show(),$(".ha_player-settings").addClass("active"),$("#ha_player-settings").on("mouseleave",function(){$("#ha_player-settings").remove(),$(".ha_player-settings").removeClass("active")}),$(".ha_player").on("click","#ha_player-settings li",function(){var a=$(this).attr("data-quality");preserve.quality=a,$("#ha_player-settings").remove(),$(".ha_player-settings").removeClass("active"),Hls.isSupported()&&"hls"==albumData[song_index].type&&(ha_hls.currentLevel=parseInt(qualityArray.indexOf(preserve.quality)),audio.play()),audio_quality_selection(a)}),gdev&&($(".ha_player").append("<div class='playerOverlay'></div>"),$("#ha_player-settings").css("bottom","auto"),$("#ha_player-settings").center_hapop())}},nextPrevDis=function(a){if("all"==repeatMode)return!1;1==trackCount?"one"==repeatMode||"one"==repeatMode?($(".ha_player-btnPrevious").removeClass("disabled"),$(".ha_player-btnNext").removeClass("disabled")):($(".ha_player-btnPrevious").addClass("disabled"),$(".ha_player-btnNext, .ha_player-playNext").addClass("disabled")):0==a?($(".ha_player-btnPrevious").addClass("disabled"),$(".ha_player-btnNext, .ha_player-playNext").removeClass("disabled")):a==trackCount-1?($(".ha_player-btnPrevious").removeClass("disabled"),$(".ha_player-btnNext, .ha_player-playNext").addClass("disabled")):($(".ha_player-btnPrevious").removeClass("disabled"),$(".ha_player-btnNext, .ha_player-playNext").removeClass("disabled"))},hideVolueSlider=$(".ha_player_volume").mouseenter(function(){hidePop(),hideQue(),$(".ha_player-volume-box").show(),$(".ha_player-volue-bar").addClass("active")}).mouseleave(function(){$(".ha_player-volume-box").hide(),$(".ha_player-volue-bar").removeClass("active")}),volumebuttonClicked=$(".ha_player-volue-bar").on("click",function(){gdev?$(".ha_player-volue-bar").hasClass("active")?($(".ha_player-volume-box").hide(),$(".ha_player-volue-bar").removeClass("active"),$(".ha_player-settings").css("visibility","visible")):($(".ha_player-volume-box").css("width",0),$(".ha_player-volume-box").show().animate({width:"58px"},300),$(".ha_player-volue-bar").addClass("active"),$(".ha_player-settings").css("visibility","hidden")):($(".ha_player-volue-bar i").hasClass("icon-ic_mute_1-38")?(audio.volume=volume_on_mute,$(".ha_player-volue-bar i").removeClass("icon-ic_mute_1-38"),$("#ha_player-volume").slider("value",100*audio.volume)):($(".ha_player-volue-bar i").addClass("icon-ic_mute_1-38"),volume_on_mute=audio.volume,audio.volume=0,$("#ha_player-volume").slider("value",0)),preserve.volume=100*audio.volume)}),volumeSlider=$("#ha_player-volume").slider({range:"min",min:0,max:100,orientation:"vertical",value:preserve.volume,slide:function(a,e){$("#ha_player-volume-amount").val(e.value),preserve.volume=e.value,e.value<1?($(".ha_player-volue-bar").addClass("mute"),$(".ha_player-volue-bar .icon-ic_volume_1-37").addClass("icon-ic_mute_1-38")):($(".ha_player-volue-bar").removeClass("mute"),$(".ha_player-volue-bar .icon-ic_volume_1-37").removeClass("icon-ic_mute_1-38"))},stop:function(a,e){audio.volume=e.value/100}}),progressSlider=$("#progressBar").slider({value:0,step:.05,orientation:"horizontal",range:"min",animate:!1,start:function(a,e){"live_radio"!=albumData[song_index].contenttype&&(playedDuration.push(audio.currentTime-playeStart),playedDurationTime+=audio.currentTime-playeStart,seekTrack=!0,preserve.seekStart=audio.currentTime)},stop:function(a,e){if("live_radio"!=albumData[song_index].contenttype){var i=e.value;seek_seconds=i/100*audio.duration,audio.currentTime=seek_seconds,preserve.seekEnd=audio.currentTime,seek_count++,playeStart=audio.currentTime,audio.play(),seekTrack=!1,"function"==typeof hap_songSkipped&&hap_songSkipped(preserve.seekStart,preserve.seekEnd)}}}),showLyrics_pop=function(a){hidePop(),"undefined"!=a&&null!=a||(a=song_index),"function"==typeof hap_showLyrics&&hap_showLyrics(a)},downloadSong=function(a){"undefined"!=a&&null!=a||(a=song_index),"function"==typeof jw_audio_download&&jw_audio_download(a),hidePop(),$(".ha_player #ha_player-queue-pop").hasClass("show")&&$(".ha_player #ha_player-queue-pop").removeClass("show")},favouriteSong=function(a){"undefined"!=a&&null!=a||(a=song_index),"function"==typeof jw_audio_favourite&&jw_audio_favourite(a),hidePop()},playSong=$("#ha_btnPlay").click(function(){if($(this).hasClass("disabled"))return!1;$("#hungama_ap #ha_btnPlay").hasClass("icon-ic_pause")?audio.pause():audio.play()}),playNextSong=$(".ha_player").on("click",".ha_player-btnNext, .hap-playNext",function(){$(this).hasClass("disabled")||(changeSong("next"),hidePop(),"function"==typeof hap_songChanged&&hap_songChanged("next"))}),playPrevSong=$(".ha_player-btnPrevious").click(function(){$(this).hasClass("disabled")||(changeSong("prev"),hidePop(),"function"==typeof hap_songChanged&&hap_songChanged("previous"))}),showMoreDetailsPop=$(".ha_player-playerControls-other .ha_player-moredetails").click(function(){if($("#hap-more-options").length>0)$("#hap-more-options").remove(),$(this).removeClass("active");else{hidePop(),$(".ha_player #ha_player-queue-pop").removeClass("show"),$(this).addClass("active");var a='<div class="ha_player-pop show" id="hap-more-options"><div class="ha_player-pop-inner"> <ul class="moreOpts"><li class="showMobile hap-playNext"><a href="javascript:;" class="ha_player-playNext"><i class="icon-ic_next-87"></i> Play Next Song</a></li><li><a href="javascript:;" class="ha_player-download" onclick="downloadSong('+song_index+')"><i class="icon-ic_mp3-72"></i> Get MP3</a></li><li class="showMobile hap-favourite"><a href="javascript:;" class="ha_player-favourite" onclick="favouriteSong('+song_index+')"><i class="icon-ic_favourite_1-46" id="hap_'+albumData[song_index].id_migration+'"></i> Favourite</a></li><li class="hap_lyrics showMobile"><a href="javascript:" class="ha_player_lyrics" onclick="showLyrics_pop('+song_index+')"><i class="icon-ic_lyrics-71"></i> Lyrics</a></li><li><a href="javascript:;" class="ha_player-share" onclick="shareSong('+song_index+')"><i class="icon-ic_share_1-17"></i> Share</a> </li><li><a href="javascript:;" class="ha_player-playlist-save"><i class="icon-add_playlist_1-16"></i> Add to Playlist</a></li><li class="hap_trivia"><a href="javascript:;" class="ha_player_trivia"><i class="icon-ic_trivia-65"></i> Trivia</a></li><li><a href="javascript:;" class="ha_player-info" onclick="showInfo('+song_index+')"><i class="icon-info_1-15"></i> View details</a></li><li class="showMobile"><a href="javascript:;" class="ha_player-settings" onclick="playerSettings()"><i class="icon-ic_settings_1-09"></i> Settings</a></li></ul> </div></div>';$(".ha_player").append(a),albumData[song_index].lyrics&&""!=albumData[song_index].lyrics||$(".hap_lyrics").hide(),albumData[song_index].trivia&&""!=albumData[song_index].trivia||$(".hap_trivia").hide();$(this).offset().left,$(this).outerWidth(),$("#hap-more-options").width();$("#hap-more-options").fadeIn()}}),shareSong=function(a){"undefined"!=a&&null!=a||(a=song_index),"function"==typeof jw_audio_share&&jw_audio_share(a),hidePop()},savePlaylist=$(".ha_player").on("click",".ha_player-playlist-save",function(){hidePop(),"function"==typeof showPlaylist&&showPlaylist("queue"),$(".ha_player #ha_player-queue-pop").hasClass("show")&&$(".ha_player #ha_player-queue-pop").removeClass("show")}),loadPlaylist=$(".ha_player").on("click",".ha_player-playlist-load",function(){hidePop(),"function"==typeof show_loadPlayList()&&show_loadPlayList(),$(".ha_player #ha_player-queue-pop").hasClass("show")&&$(".ha_player #ha_player-queue-pop").removeClass("show")}),repeatSong=$(".ha_player-btnRepeat").click(function(a){"off"==repeatMode?(repeatMode="one",showTip("Repeat One"),$(this).addClass("one").find("i").addClass("icon-ic_repeat1"),$(this).attr("data-tooltip","Repeat")):"one"==repeatMode?(repeatMode="all",repeatSong=!0,$(this).removeClass("one").addClass("active").find("i").removeClass("icon-ic_repeat1"),showTip("Repeat all"),$(this).attr("data-tooltip","Repeat")):"all"==repeatMode&&(repeatMode="off",jw_repeatAll=!1,$(this).removeClass("active"),showTip("Repeat off"),$(this).attr("data-tooltip","Repeat")),nextPrevDis()}),shuffleAudioSong=$(".ha_player-btnShuffle").click(function(a){$(this).hasClass("shuffled")?($(this).removeClass("shuffled"),showTip("Shuffle off"),shuffleSong=!1):($(this).addClass("shuffled"),shuffleSong=!0,showTip("Shuffle on")),hidePop()}),audio.addEventListener("waiting",function(){$("#ha_btnPlay").addClass("hap_buffering"),$(".ha_player_songlist li").eq(song_index).find(".equlizer").hide()}),audio.addEventListener("error",function(a){switch(a.target.error.code){case a.target.error.MEDIA_ERR_ABORTED:errMsg="You aborted the video playback.";break;case a.target.error.MEDIA_ERR_NETWORK:errMsg="A network error caused the audio download to fail.";break;case a.target.error.MEDIA_ERR_DECODE:errMsg="The audio playback was aborted due to a corruption problem or because the video used features your browser did not support.";break;case a.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:errMsg="The video audio not be loaded, either because the server or network failed or because the format is not supported.";break;default:errMsg="An unknown error occurred."}song_index<trackCount-1&&(song_index++,loadTrack(song_index)),oldItem.push(song_index),prepareParams_html5Audio()}),audio.addEventListener("canplaythrough",function(){clearInterval(b)}),audio.addEventListener("canplay",function(){clearInterval(a),$(".hap_duration").html(playerTimer(audio.duration)),$(".ha_player .ha_player-playerControls").fadeIn()}),discover=$("#discover .handlebox").click(function(){if($("#discover").hasClass("active")?"function"==typeof discoverClicked&&discoverClicked("close"):"function"==typeof discoverClicked&&discoverClicked("open"),preserve.discoverPlayed)$("#discover .discover_Sections").show();else{discoverData={mood:"",language:"",genre:"",tempo:"",era:{eraFrom:"",eraTo:""}};var a=dis_langList="";$.each(preserve.dis_moodList,function(e,i){preserve.moodIndex==e?a+='<li data-mood="'+e+'"><input id="'+i+'" name="mood_radio" type="radio" checked> <label for="'+i+'"><span></span> '+i+"</label></li>":a+='<li data-mood="'+e+'"><input id="'+i+'" name="mood_radio" type="radio"> <label for="'+i+'"><span></span> '+i+"</label></li>"}),$.each(preserve.dis_langList,function(a,e){e.toLowerCase()==preserve.pageLanguage.toLowerCase()?dis_langList+='<option value="'+e+'" selected>'+a+"</option>":dis_langList+='<option value="'+e+'">'+a+"</option>"}),$("#mood_List").html(a),$("#discover .language_ddl select").html(dis_langList),preserve.pageLanguage,$("#discover .discover_genres").hide(),$("#discover .discover_Sections").show(),preserve.discoverPlayed=!0}$(".discoverInner").toggle(),$("#discover").toggleClass("active")}),ChangeMood=$("#discover #mood_List").on("click","li lable, li input",function(){$("#discover .discover_Sections").show(300),discoverData.mood=$(this).parent().data("mood"),discoverData.language=$("#discover .language_ddl select").val(),"function"==typeof changeMood&&changeMood(discoverData)}),disc_Language=$("#discover .language_ddl select").change(function(){discoverData.language=$(this).val(),"function"==typeof changeMood&&changeMood(discoverData),"english"==discoverData.language.toLowerCase()?$("#discover .discover_genres").show():$("#discover .discover_genres").hide()}),disc_genres=$("#discover #genre_List").on("click","li lable, li input",function(){discoverData.genre=$(this).parent().data("genre"),"function"==typeof changeMood&&changeMood(discoverData)}),disc_tempo=$("#discover #Tempo_List").on("click","li lable, li input",function(){discoverData.tempo=$(this).parent().data("tempo"),"function"==typeof changeMood&&changeMood(discoverData)}),discoverEra=$("#discover-Era").slider({range:!0,min:1950,max:2017,step:1,values:[1950,2017],slide:function(a,e){if(e.values[0]>1949&&e.values[0]<=1960)var i="50's";else if(e.values[0]>1960&&e.values[0]<=1970)i="60's";else if(e.values[0]>1970&&e.values[0]<=1980)i="70's";else if(e.values[0]>1980&&e.values[0]<=1990)i="80's";else if(e.values[0]>1990&&e.values[0]<=2e3)i="90's";else i=e.values[0];$(".era_text").html(i+" - "+e.values[1])},stop:function(a,e){console.log("year"+e.values[0]+" - year"+e.values[1]),discoverData.era.eraFrom=e.values[0],discoverData.era.eraTo=e.values[1],"function"==typeof changeMood&&changeMood(discoverData)}}),add_animateHandle=$("#discover .handlebox").mouseenter(function(){gdev||$(this).addClass("animate")}),remove_animateHandle=$("#discover .handlebox").mouseleave(function(){gdev||$(this).removeClass("animate")}),loadTrack(song_index),oldItem.push(song_index)}function playerTimer(a){var e=Math.floor(a/3600);a-=3600*e;var i=Math.floor(a/60);a-=60*i;var o=parseInt(a%60,10);return(e<10?"0"+e:e)+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)}function showPopup(a,e){var i='<div class="playerOverlay"></div><div id="ha_player-commonPop" class="ha_player-pop"><div class="ha_player-pop-inner"><div class="clearfix pop-head clearfix"><h2 class="popHeader">'+a+'</h2><a onclick="hidePop();" class=" icon-ic_cancel-83" href="javascript:"></a> </div><div class="clearfix popContent">'+e+"</div></div></div></div>";$(".ha_player").append(i),$("#ha_player-commonPop").show().center_hapop(),""!=a?($("#ha_player-commonPop .pop-head").show(),$("#ha_player-commonPop .popContent").css("padding","10px 10px 0px")):($("#ha_player-commonPop .pop-head").hide(),$("#ha_player-commonPop .jw-pop-inner").width(210),$("#ha_player-commonPop .popContent").css("padding","0 10px"),setTimeout(function(){hidePop()},2e3))}function isSafari(){var a=navigator.userAgent.toLowerCase();-1!=a.indexOf("safari")&&(a.indexOf("chrome")>-1?preserve.isSafari=!1:preserve.isSafari=!0)}navigator.mediaSession=navigator.mediaSession||{},navigator.mediaSession.setActionHandler=navigator.mediaSession.setActionHandler||function(){},window.MediaMetadata=window.MediaMetadata||function(){},updateMetadata=function(){log(">inside updateMetadata"),track={title:albumData[song_index].song_name,artist:albumData[song_index].singer_name,album:albumData[song_index].album_name,artwork:[{src:albumData[song_index].img_src,sizes:"96x96",type:"image/jpg"},{src:albumData[song_index].img_src,sizes:"128x128",type:"image/jpg"},{src:albumData[song_index].img_src,sizes:"192x192",type:"image/jpg"},{src:albumData[song_index].img_src,sizes:"256x256",type:"image/jpg"},{src:albumData[song_index].img_src,sizes:"384x384",type:"image/jpg"},{src:albumData[song_index].img_src,sizes:"512x512",type:"image/jpg"}]},log("Playing "+track.title+" track..."),gdev&&(navigator.mediaSession.metadata=new MediaMetadata({title:track.title,artist:track.artist,album:track.album,artwork:track.artwork}),navigator.mediaSession.setActionHandler("previoustrack",function(){log('> User clicked "Previous Track" icon.'),changeSong("prev")}),navigator.mediaSession.setActionHandler("nexttrack",function(){log('> User clicked "Next Track" icon.'),changeSong("next")}),navigator.mediaSession.setActionHandler("play",function(){log('> User clicked "Play" icon.'),audio.play()}),navigator.mediaSession.setActionHandler("pause",function(){log('> User clicked "Pause" icon.'),audio.pause()}))},$(window).on("orientationchange",function(){setQueue_scroll(),setTimeout(function(){$(window).width()>$(window).height()?($("#discover").addClass("landscape"),$("#discover .discoverInner").width($(window).width()-60)):($("#discover").removeClass("landscape"),$("#discover .discoverInner").width(260))},300)}),isSafari();var tracking_url=locationProtocol+"//ping.hungama.com/eventTracker.js";function getCookie(a){for(var e=a+"=",i=document.cookie.split(";"),o=0;o<i.length;o++){for(var s=i[o];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(e))return s.substring(e.length,s.length)}return""}function clearStats(){bufa=0,bufb=0,seek_count=0,playedDurationTime=0,errMsg="",pause_count=0,a=0,playedDuration=[]}function prepareParams_html5Audio(e){var i=oldItem[oldItem.length-2];if(1==albumData[i].id_migration)return!1;var o,s,l,r,n,t,p,d,u;if(preserve.bufa=bufa,preserve.bufb=bufb,preserve.seek_count=seek_count,preserve.playedDurationTime=playedDurationTime,preserve.errMsg=errMsg,preserve.pause_count=pause_count,preserve.a=a,clearStats(),ha_configObj.loginStatus)var c="full";else c="preview";"loadNew"==e?(s=preserve.albumData.song_name,o=preserve.albumData.id_migration,l=preserve.albumData.contenttype,u=preserve.albumData.id_album,r=preserve.albumData.vendor,n=preserve.albumData.genre,t=preserve.albumData.singer_name,p=preserve.albumData.album_name,d=preserve.albumData.lang):(s=albumData[i].song_name,o=albumData[i].id_migration,l=albumData[i].contenttype,u=albumData[i].id_album,r=albumData[i].vendor,n=albumData[i].genre,t=albumData[i].singer_name,p=albumData[i].album_name,d=albumData[i].lang),ha_configObj.operator,ha_configObj.msisdn;var h={url:"http://"+window.location.hostname+window.location.pathname,content_title:s||"",content_id:o?o.toString():"",content_type:l||"",content_viewing:c||"",app:ha_configObj.platform?ha_configObj.platform:"WEB",property:ha_configObj.property?ha_configObj.property:"HUNGAMA",playtime:Math.ceil(preserve.playedDurationTime-1),buffer:Math.ceil(preserve.bufb),seekcount:preserve.seek_count,_huid:getCookie("_huid")?getCookie("_huid"):"",type:"audio",pausecount:preserve.pause_count>0?preserve.pause_count-1:0,s:ha_configObj.subscribeStatus,sp:ha_configObj.subscriptionPrice,ltime:preserve.bufa,errormessage:preserve.errMsg,subcategory:"track",category:l||"",id:u?u.toString():"",email:ha_configObj.email?ha_configObj.email:"",userid:ha_configObj.userid?ha_configObj.userid:"",vendor:r||"",genere:n||"",singer:t||"",name:p||"",language:d||""};$.ajax({type:"GET",url:tracking_url+"?query="+JSON.stringify(h),contentType:"text/plain",xhrFields:{withCredentials:!1},success:function(){},error:function(){}});var _={ver:encodeURI(ver_check),aff_id:ha_configObj.aff_id?ha_configObj.aff_id:0,dos:ha_configObj.dos?ha_configObj.dos:"",ctitle:s?encodeURI(s):"",cid:o?o.toString():"",ctype:l||"",uevent:"full",platform:ha_configObj.platform?ha_configObj.platform:"WEB",property:ha_configObj.property?ha_configObj.property:"HUNGAMA",dur:Math.ceil(preserve.playedDurationTime-1),buff:Math.ceil(preserve.bufb),uid:ha_configObj.userid?ha_configObj.userid:getCookie("_huid"),ctype:l||"",alb_id:u?u.toString():"",cgenre:n||"",artist:t?encodeURI(t):"",alb_title:p?encodeURI(p):"",clang:d||"",stype:"stream",era:"",url:encodeURI(locationProtocol+"//"+window.location.hostname+window.location.pathname),ad_play:0},m=locationProtocol+"//ping.hungama.com/mediaEvent.py";$.ajax({type:"GET",url:m+"?"+$.param(_),contentType:"text/plain",xhrFields:{withCredentials:!1},success:function(){},error:function(){}}),trackingFired=!0}