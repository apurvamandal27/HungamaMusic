!function(t){function e(e,a,r){var o=this;return this.on("click.pjax",e,function(e){var i=t.extend({},v(a,r));i.container||(i.container=t(this).attr("data-pjax")||o),n(e,i)})}function n(e,n,a){a=v(n,a);var r=e.currentTarget;if("A"!==r.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==r.protocol||location.hostname!==r.hostname||r.href.indexOf("#")>-1&&m(r)==m(location)||e.isDefaultPrevented())){var i={url:r.href,container:t(r).attr("data-pjax"),target:r},c=t.extend({},i,a),s=t.Event("pjax:click");t(r).trigger(s,[c]),s.isDefaultPrevented()||(o(c),e.preventDefault(),t(r).trigger("pjax:clicked",[c]))}}function a(e,n,a){a=v(n,a);var r=e.currentTarget;if("FORM"!==r.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var i={type:r.method.toUpperCase(),url:r.action,container:t(r).attr("data-pjax"),target:r};if("GET"!==i.type&&void 0!==window.FormData)i.data=new FormData(r),i.processData=!1,i.contentType=!1;else{if(t(r).find(":file").length)return;i.data=t(r).serializeArray()}o(t.extend({},i,a)),e.preventDefault()}function r(t){var e=document.cookie,n=e.indexOf(t);if(-1==n||""==t)return"";var a=e.indexOf(";",n);return-1==a&&(a=e.length),unescape(e.substring(n+t.length+1,a))}function o(e){function n(e,n,r){r||(r={}),r.relatedTarget=a;var o=t.Event(e,r);return s.trigger(o,n),!o.isDefaultPrevented()}e=t.extend(!0,{},t.ajaxSettings,o.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var a=e.target,i=h(e.url).hash,s=e.context=x(e.container);r("_hcntr")?pjax_country_code=r("_hcntr"):pjax_country_code="",e.data||(e.data={}),t.isArray(e.data)?(console.log("pjax if aaaaaaaaaaaa"),e.data.push({name:"_pjax",value:s.selector}),e.data.push({name:"_country",value:pjax_country_code})):(console.log("pjax else cccccccc"),e.data._pjax=s.selector,e.data._country=pjax_country_code);var u;e.beforeSend=function(t,a){if("GET"!==a.type&&(a.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",s.selector),!n("pjax:beforeSend",[t,a]))return!1;a.timeout>0&&(u=setTimeout(function(){n("pjax:timeout",[t,e])&&t.abort("timeout")},a.timeout),a.timeout=0);var r=h(a.url);i&&(r.hash=i),e.requestUrl=f(r)},e.complete=function(t,a){u&&clearTimeout(u),n("pjax:complete",[t,a,e]),n("pjax:end",[t,e])},e.error=function(t,a,r){var o=y("",t,e),i=n("pjax:error",[t,a,r,e]);"GET"==e.type&&"abort"!==a&&i&&c(o.url)},e.success=function(a,r,u){var l=o.state,d="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,f=u.getResponseHeader("X-PJAX-Version"),m=y(a,u,e),v=h(m.url);if(i&&(v.hash=i,m.url=v.href),d&&f&&d!==f)return void c(m.url);if(!m.contents)return void c(m.url);o.state={id:e.id||p(),url:m.url,title:m.title,container:s.selector,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(o.state,m.title,m.url);var x=t.contains(e.container,document.activeElement);if(x)try{document.activeElement.blur()}catch(g){}m.title&&(document.title=m.title),n("pjax:beforeReplace",[m.contents,e],{state:o.state,previousState:l}),s.html(m.contents);var j=s.find("input[autofocus], textarea[autofocus]").last()[0];j&&document.activeElement!==j&&j.focus(),w(m.scripts);var b=e.scrollTo;if(i){var T=decodeURIComponent(i.slice(1)),E=document.getElementById(T)||document.getElementsByName(T)[0];E&&(b=t(E).offset().top)}"number"==typeof b&&t(window).scrollTop(b),n("pjax:success",[a,r,u,e])},o.state||(o.state={id:p(),url:window.location.href,title:document.title,container:s.selector,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(o.state,document.title)),l(o.xhr),o.options=e;var m=o.xhr=t.ajax(e);return m.readyState>0&&(e.push&&!e.replace&&(b(o.state.id,d(s)),window.history.pushState(null,"",e.requestUrl)),n("pjax:start",[m,e]),n("pjax:send",[m,e])),o.xhr}function i(e,n){var a={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return o(t.extend(a,v(e,n)))}function c(t){window.history.replaceState(null,"",o.state.url),window.location.replace(t)}function s(e){C||l(o.xhr);var n,a=o.state,r=e.state;if(r&&r.container){if(C&&A==r.url)return;if(a){if(a.id===r.id)return;n=a.id<r.id?"forward":"back"}var i=R[r.id]||[],s=t(i[0]||r.container),u=i[1];if(s.length){a&&T(n,a.id,d(s));var p=t.Event("pjax:popstate",{state:r,direction:n});s.trigger(p);var f={id:r.id,url:r.url,container:s,push:!1,fragment:r.fragment,timeout:r.timeout,scrollTo:!1};if(u){s.trigger("pjax:start",[null,f]),o.state=r,r.title&&(document.title=r.title);var h=t.Event("pjax:beforeReplace",{state:r,previousState:a});s.trigger(h,[u,f]),s.html(u),s.trigger("pjax:end",[null,f])}else o(f);s[0].offsetHeight}else c(location.href)}C=!1}function u(e){var n=t.isFunction(e.url)?e.url():e.url,a=e.type?e.type.toUpperCase():"GET",r=t("<form>",{method:"GET"===a?"GET":"POST",action:n,style:"display:none"});"GET"!==a&&"POST"!==a&&r.append(t("<input>",{type:"hidden",name:"_method",value:a.toLowerCase()}));var o=e.data;if("string"==typeof o)t.each(o.split("&"),function(e,n){var a=n.split("=");r.append(t("<input>",{type:"hidden",name:a[0],value:a[1]}))});else if(t.isArray(o))t.each(o,function(e,n){r.append(t("<input>",{type:"hidden",name:n.name,value:n.value}))});else if("object"==typeof o){var i;for(i in o)r.append(t("<input>",{type:"hidden",name:i,value:o[i]}))}t(document.body).append(r),r.submit()}function l(e){e&&e.readyState<4&&(e.onreadystatechange=t.noop,e.abort())}function p(){return(new Date).getTime()}function d(t){var e=t.clone();return e.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[t.selector,e.contents()]}function f(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),t.search=t.search.replace(/([?&])(_country|_)=[^&]*/g,""),t.href.replace(/\?($|#)/,"$1")}function h(t){var e=document.createElement("a");return e.href=t,e}function m(t){return t.href.replace(/#.*/,"")}function v(e,n){return e&&n?n.container=e:n=t.isPlainObject(e)?e:{container:e},n.container&&(n.container=x(n.container)),n}function x(e){if(e=t(e),e.length){if(""!==e.selector&&e.context===document)return e;if(e.attr("id"))return t("#"+e.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+e.selector}function g(t,e){return t.filter(e).add(t.find(e))}function j(e){return t.parseHTML(e,document,!0)}function y(e,n,a){var r={},o=/<html/i.test(e),i=n.getResponseHeader("X-PJAX-URL");if(r.url=i?f(h(i)):a.requestUrl,o)var c=t(j(e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),s=t(j(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var c=s=t(j(e));if(0===s.length)return r;if(r.title=g(c,"title").last().text(),a.fragment){if("body"===a.fragment)var u=s;else var u=g(s,a.fragment).first();u.length&&(r.contents="body"===a.fragment?u:u.contents(),r.title||(r.title=u.attr("title")||u.data("title")))}else o||(r.contents=s);return r.contents&&(r.contents=r.contents.not(function(){return t(this).is("title")}),r.contents.find("title").remove(),r.scripts=g(r.contents,"script[src]").remove(),r.contents=r.contents.not(r.scripts)),r.title&&(r.title=t.trim(r.title)),r}function w(e){if(e){var n=t("script[src]");e.each(function(){var e=this.src,a=n.filter(function(){return this.src===e});if(!a.length){var r=document.createElement("script"),o=t(this).attr("type");o&&(r.type=o),r.src=t(this).attr("src"),document.head.appendChild(r)}})}}function b(t,e){R[t]=e,X.push(t),E(U,0),E(X,o.defaults.maxCacheLength)}function T(t,e,n){var a,r;R[e]=n,"forward"===t?(a=X,r=U):(a=U,r=X),a.push(e),(e=r.pop())&&delete R[e],E(a,o.defaults.maxCacheLength)}function E(t,e){for(;t.length>e;)delete R[t.shift()]}function _(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function S(){t.fn.pjax=e,t.pjax=o,t.pjax.enable=t.noop,t.pjax.disable=P,t.pjax.click=n,t.pjax.submit=a,t.pjax.reload=i,t.pjax.defaults={timeout:14e3,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:_},t(window).on("popstate.pjax",s)}function P(){t.fn.pjax=function(){return this},t.pjax=u,t.pjax.enable=S,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",s)}var C=!0,A=window.location.href,D=window.history.state;D&&D.container&&(o.state=D),"state"in window.history&&(C=!1);var R={},U=[],X=[];t.inArray("state",t.event.props)<0&&t.event.props.push("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),t.support.pjax?S():P()}(jQuery);