var ver_check="videoplayer js updated on 06 - 03 - 2018 | 12:24";function makePlayer(e,i,t){var a=!0;function n(e){a&&console.log("Player: "+e)}n(ver_check);var o,r,d,s,l,u,c,p=0,f=!0,v={},_=!1,h=!1,y="IDLE";"function"==typeof lap_verCheck&&lap_verCheck(ver_check);var m=location.protocol,w=0,b=0,g=1,E=m+"//ping.hungama.com/eventTracker.js",j=m+"//ping.hungama.com/mediaEvent.py",R="//ping.hungama.com/addTracker.py",O={vd:{},withCredentials:!0,extraParam:{backup:"",viewingTime:-1,rentStatus:!1,rentPrice:0,showPlayIcon:!1},loginStatus:!0,spd_extra:{thumb_width:"120px",thumb_height:"69px",gap_in_secs:"10",thumbs_in_one_sprite:"48",thumb_col_count:"12",thumb_row_count:"4"},userQuality:"auto",subscribeStatus:!0,loadTime:0,errorMessage:"",seeked:!1,seekCount:0,pauseCount:0,playTime:0,pauseTime:0,idleTime:0,bufferTime:0,playertype:"movie",playerContainer:"",controls:!0,subscriptionPrice:299,autoStart:!1,userInactiveTimer:-1,mute:!0,playTimeInterval:0,pauseTimeInterval:0,idleTimeInterval:0,bufferTimeInterval:0,userInactiveTimeOut:0,property:"HUNGAMA",platform:"WEB",notifyAutoPlaySec:10,notifyAutoPlayText:"Starts in"};$.extend(!0,O,t);var P={file:"",mediaid:"1",title:"",albumname:"",type:"",image:"",imagethumb:"",genre:"",lang:"",year:"",contenttype:"",ad_setup:{client:"googima",tag:""},dashprotection:{key:"",keytype:"widewine"},tracks:[{file:"",label:"English",kind:"captions",default:!0}],spd:{sprite_image_path:[{path:""},{path:""}]}};$.extend(!0,P,i);var C,k=!1,T=!1,A=0,x=0,L=!1,I=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),S=/iphone|ipad|ipod/i.test(navigator.userAgent.toLowerCase()),D={autoStartLoad:!0,maxBufferLength:30,maxMaxBufferLength:30,xhrSetup:function(e,i){e.withCredentials=O.withCredentials}},M=0,F=$("#"+e),N={volume:80},q=new Hls(D);O.vd=P;var H,U,B='<div id="hun_vp" class="videoPlayer player" style="overflow:hidden;width:'+(A=F.width())+"px;height:"+(x=A/16*9)+'px; background:#000;"><div id="adContainer" style="overflow:hidden;width:100%;height:100%; position: absolute;top:0px;left:0px;z-index:99;"></div><button is="google-cast-button" id="castbutton"></button><div id="castcover"></div><div class="bg_logo"></div><div class="thumb"></div><div class="liveRibbon"><img src="//player.hungama.com/lap/images/liveplayer.png" alt="live"/></div><video id="videoPlayerObj"></video><div><a href="javascript:;" class="jw-playBtn replysub"><i class="icon-ic_play-84"></i></a></div><div id="loadingVideo" class="loadersmall"></div><div class="vp_skin mouseout"> <div class="playerProgressbar"> <div class="bufferBar"></div> <div id="playerProgressbar"></div> </div> <div class="playerControls left"> <ul class="playerControlbar"> <li><a href="javascript:void(0);" class="playerControlbtn btnPre_30"><i class="playerIcons icon-ic_replay30_1-49"></i></a><a href="javascript:void(0);" class="playerControlbtn btnPre"><i class="icon-ic_previous-86"></i></a></li> <li><a href="javascript:void(0);" class="playerControlbtn jw_play btnPlay"><i class="icon-ic_play-84"></i></a> </li> <li><a href="javascript:void(0);" class="playerControlbtn btnNxt_30"><i class="icon-ic_forward_30_1-50"></i></a><a href="javascript:void(0);" class="playerControlbtn btnNxt"><i class="icon-ic_next-87"></i></a></li> <li> <div class="timeBar"><span class="jw_position">0:00</span> <span class="jw_dash">/</span> <span class="jw_duration">0:00</span> </div> </li> </ul> </div> <div class="playerControls right clearfix"> <ul class="playerControlbar"><li><span class="space"></span></li> <li class="customBar"> <a href="javascript:void(0);" class="playerControlbtn jw_favourite"><i class="icon-ic_favourite_1-46" id="hpjw_fav"></i></a> </li><li class="mp4"> <a href="javascript:void(0);" class="playerControlbtn jw_download"><i class="icon-ic_mp4-73-73"></i></a> </li><li class="volumebar"><div class="soundControlbar"><div id="soundControlbar"></div></div><a href="javascript:void(0);" class="playerControlbtn jw_volume"><i class="playerIcons btnVolume icon-ic_volume_1-37"></i></a></li><li class="settingbar"><a href="javascript:void(0);" class="playerControlbtn jp-settings jw_settings" style="display:none;"><i class="playerIcons icon-ic_settings_1-09"></i></a><div class="settingbox"><div class="inner"><ul class="setmb"><li class="clearfix" id="jw_autoplay_li"><div class="setleft">Autoplay</div><div class="setright"><input type="checkbox" name="onoffswitch1" id="autoPlaySwitch" checked></div></li><li class="clearfix jw_subtitle"><div class="setleft">Subtitles</div><div class="setright"><a href="javascript:;">Off <span class="arw"></span></a></div></li><li class="clearfix vdoQuality" style="display:none;"><div class="setleft">Quality</div><div class="setright"><a href="javascript:;" class="setquality">Auto <span class="arw"></span></a></div></li></ul></div></div><div class="captionbox" style="height: auto;"><a class="captionback" href="javascript:;"><span class="arw-lft"></span> Caption</a><ul class="captionList"></ul></div><div class="qualitybox"><a href="javascript:;" class="qualiback"><span class="arw-lft"></span> Quality</a><ul class="qualityList"> <li> <div> <input type="radio" id="auto" name="radio"/> <label for="auto"><span></span>Auto</label> </div></li></ul></</li><li class="resizebar"><a href="javascript:void(0);" class="playerControlbtn jw_resize"><i class="btnResize icon-ic_fullscreen-52"></i></a> </li></ul></div></div></div>';F.html(B),Oe(),S&&(F.find(".bg_logo").hide(),F.find("#videoPlayerObj").attr("controls",!0)),H=F,U=!1,$.ajax({url:"//player.hungama.com/player/js/jwplayer/whitelist.json",dataType:"jsonp",jsonpCallback:"test",success:function(e){for(var i=location.host,t=0;t<e.length;t++)if(e[t].url.toLowerCase().indexOf(i)>=0){U=!0;break}U||H.html("")},error:function(e,i,t){}}),videoPlayerObj=document.getElementById("videoPlayerObj"),videoPlayerObj.poster=P.image,videoPlayerObj.width=A,videoPlayerObj.height=x,window.__onGCastApiAvailable=function(e){if(e){n("Chromecast Device Available"),$("#castbutton").show(),!0;var i={receiverApplicationId:"9790E03C"};cast.framework.CastContext.getInstance().setOptions(i),s=new cast.framework.RemotePlayer,(l=new cast.framework.RemotePlayerController(s)).addEventListener(cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED,function(){s.currentTime>0&&(p=s.currentTime)}),l.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,function(){if(n("Chromecast Switch"),cast&&cast.framework){if(s.isConnected)return n("Chromecast Connected and Media change"),o=cast.framework.CastContext.getInstance().getCurrentSession(),"mp4"==O.vd.type?(n("Media Mp4"),r=new chrome.cast.media.MediaInfo(O.vd.file,"video/mp4")):"hls"==O.vd.type?(n("Media Hls"),r=new chrome.cast.media.MediaInfo(O.vd.file,"application/x-mpegurl")):"dash"==O.vd.type&&(n("Media Dash"),r=new chrome.cast.media.MediaInfo(O.vd.file,"application/dash+xml")),r.metadata=new chrome.cast.media.GenericMediaMetadata,r.metadata.metadataType=chrome.cast.media.MetadataType.GENERIC,r.metadata.title=O.vd.title,r.customData={drm_url:""},d=new chrome.cast.media.LoadRequest(r),o.loadMedia(d).then(function(){n("Media Load Success"),$("#castcover").show(),s.currentTime=videoPlayerObj.currentTime,l.seek(),F.find(".vp_skin").addClass("mouseout"),F.find(".soundControlbar").removeClass("show"),F.find(".qualitybox").removeClass("setqual"),F.find(".captionbox").removeClass("setqual"),F.find(".settingbox").removeClass("setshow")},function(e){n("Media Load failed: "+e)}),void _e();n("Chromecast disconnected"),$("#castcover").hide(),videoPlayerObj.currentTime=p,Se(p),p=0}})}},videoPlayerObj.addEventListener("loadedmetadata",function(){var e="";if(F.find("video track").remove(),O.vd.tracks.length>0&&O.vd.tracks[0].file.length>0){$("#hun_vp").find("video").attr("crossOrigin","anonymous"),$("#hun_vp").find("video").attr("preload","metadata"),F.find(".jw_settings").css("display","inline-block"),n("subtiles src "+O.vd.tracks[0].file),F.find(".jw_subtitle").show(),F.find(".captionbox .captionList").html(e),e+='<li data-index="-1"> <div> <input type="radio" name="radio" id="Off"> <label for="Off"><span></span>Off</label></div></li>';for(var i=0;i<O.vd.tracks.length;i++)track=document.createElement("track"),track.label=O.vd.tracks[i].label,track.kind=O.vd.tracks[i].kind,track.srclang="en",track.src=O.vd.tracks[i].file,O.vd.tracks[i].default&&(track.default=!0,F.find(".jw_subtitle .setright a").html(O.vd.tracks[i].label+'<span class="arw"></span>')),track.addEventListener("load",function(){this.mode="showing",videoPlayerObj.textTracks[0].mode="showing"}),this.appendChild(track),e+='<li data-index="'+i+'"> <div> <input type="radio" name="radio" id="'+O.vd.tracks[i].label+'"> <label for="'+O.vd.tracks[i].label+'"><span></span>'+O.vd.tracks[i].label+"</label></div></li>";F.find(".captionbox .captionList").html(e),F.find(".captionbox .captionList li").click(function(){var e=$(this).attr("data-index"),i=$(this).find("input").attr("id")+'<span class="arw"></span>';if(-1==e)for(var t=0;t<videoPlayerObj.textTracks.length;t++)videoPlayerObj.textTracks[t].mode="hidden";else videoPlayerObj.textTracks[e].mode="showing";F.find(".settingbox").removeClass("setshow"),F.find(".captionbox").removeClass("setqual"),F.find(".jw_subtitle .setright a").html(i)})}}),F.find(".jw_subtitle").click(function(){F.find(".settingbox").removeClass("setshow"),F.find(".captionbox").addClass("setqual")}),$(".captionback").on("click",function(e){e.preventDefault(),F.find(".settingbox").addClass("setshow"),F.find(".captionbox").removeClass("setqual")}),F.find("#adContainer").hide();var G,V=document.getElementById("adContainer"),W=!1,z=!1,K=!1,Q=!1,Y=!1,X=!1,J=new google.ima.AdDisplayContainer(V,videoPlayerObj);adsLoader=new google.ima.AdsLoader(J),adsRequest=new google.ima.AdsRequest;var Z=function(){adsLoader.contentComplete()};function ee(){n("startAds"),"function"==typeof jw_adPlaying&&jw_adPlaying();try{G.init(A,x,google.ima.ViewMode.NORMAL),G.start()}catch(e){}}function ie(){z=!0,k||f||!S?k||S?(f=!1,"hls"==P.type?(n("hls type"),q.destroy(),q=new Hls(D),pe(),xe()):"dash"==P.type?(n("dash type"),fe()):(n("mp4 type"),videoPlayerObj.src=P.file,videoPlayerObj.play())):(n("requestAds android"),me(),k=!0,J.initialize(),adsRequest.adTagUrl=P.ad_setup.tag,videoPlayerObj.onended=Z,adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,ce,!1),adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,te,!1),adsRequest.linearAdSlotWidth=A,adsRequest.linearAdSlotHeight=x,adsRequest.nonLinearAdSlotWidth=A,adsRequest.nonLinearAdSlotHeight=150,adsRequest.adTagUrl.length>0&&adsLoader.requestAds(adsRequest)):(n("requestAds apple"),me(),k=!0,J.initialize(),adsRequest.adTagUrl=P.ad_setup.tag,videoPlayerObj.onended=Z,adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,ce,!1),adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,te,!1),adsRequest.linearAdSlotWidth=A,adsRequest.linearAdSlotHeight=x,adsRequest.nonLinearAdSlotWidth=A,adsRequest.nonLinearAdSlotHeight=150,adsRequest.adTagUrl.length>0&&adsLoader.requestAds(adsRequest))}function te(e){Y=!0,W=!1,Te=0,n("onAdError"),ne(),b<g&&(n("onAdError"),k=!1,"function"==typeof jw_adError&&jw_adError(),b++)}function ae(){W=!1,G&&(clearInterval(se),se=null,G.destroy()),"hls"==P.type?q.destroy():"dash"==P.type?u.reset():videoPlayerObj.removeAttribute("src"),n("destroyed Ad and video.")}function ne(){W=!1,n("destroyAds"),G&&G.destroy(),clearInterval(se),se=null,0,me(),"hls"==P.type?(q.destroy(),q=new Hls(D),pe(),xe()):"dash"==P.type?fe():"mp4"==P.type&&(S&&(videoPlayerObj.src=P.file),videoPlayerObj.play()),videoPlayerObj.currentTime=0;var e=setInterval(function(){videoPlayerObj.paused?(videoPlayerObj.play(),k=!0):clearInterval(e)},250)}function oe(e){W=!1,n("onAdComplete"),ne(),"function"==typeof jw_adComplete&&jw_adComplete()}function re(e){W=!1,n("onAdSkipped"),ne(),"function"==typeof jw_adSkipped&&jw_adSkipped()}function de(){K=!0,n("onAdImpression"),me(),videoPlayerObj.removeEventListener("ended",Z),0==S&&videoPlayerObj.pause(),F.find(".jw-playBtn").hide(),Te=1,"function"==typeof jw_adStart&&jw_adStart()}videoPlayerObj.addEventListener("loadedmetadata",function(){n("loadedmetadata called"),X=!0});var se=null;function le(){Q=!0,n("onAdStarted"),W=!0,document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement?(n("here fullscreen"),Pe($(window).width())):Pe(F.find(".videoPlayer").width()),0==S&&(F.find("#loadingVideo").hide(),$("#adContainer").show(),se=setInterval(function(){G.getRemainingTime()>0?($("#adContainer").find("#adRem").remove(),$("#adContainer").append("<p id='adRem' style='background:rgba(33,33,33,.8);color:#fff; position:absolute; bottom:10px; right:0px; left:0px; padding: 0.5em; font-size:12px; font-family: Arial,Helvetica,sans-serif; font-size: .75em;font-style: normal;font-weight: 400;color: #fff;font-variant: normal;font-stretch: normal;'>This ad will end in "+Math.round(G.getRemainingTime())+" seconds.</p>"),$("#adContainer").show()):"googima"==P.ad_setup.client?($("#adContainer").find("#adRem").remove(),clearInterval(se),se=null,$("#adContainer").show()):(clearInterval(se),se=null,$("#adContainer").hide(),n("adTimeInterval adContainer hide"))},900))}function ue(){n("onAdClick"),setTimeout(function(){G.resume()},1e3)}function ce(e){n("onAdsManagerLoaded"),!0,(G=e.getAdsManager(videoPlayerObj)).addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,te),G.addEventListener(google.ima.AdEvent.Type.IMPRESSION,de,!1),G.addEventListener(google.ima.AdEvent.Type.CLICK,ue,!1),G.addEventListener(google.ima.AdEvent.Type.COMPLETE,oe,!1),G.addEventListener(google.ima.AdEvent.Type.SKIPPED,re,!1),G.addEventListener(google.ima.AdEvent.Type.STARTED,le,!1),X&&(videoPlayerObj.autoplay||videoPlayerObj.play(),n("calling startAds"),ee())}function pe(){Hls.isSupported()&&(n("hls supported"),q.on(Hls.Events.ERROR,function(e,i){i.type;var t=i.details;i.fatal;switch(n("Error Occured"),n("Error Details: "+t),i.details){case Hls.ErrorDetails.MANIFEST_LOAD_ERROR:"function"==typeof jw_mediaError&&jw_mediaError("video","NW_ER_MANIFEST_LOAD_ERROR"),"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","NW_ER_MANIFEST_LOAD_ERROR",i.loader.loader.responseText);break;case Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT:"function"==typeof jw_mediaError&&jw_mediaError("video","NW_ER_MANIFEST_LOAD_TIMEOUT "),"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","NW_ER_MANIFEST_LOAD_TIMEOUT");break;case Hls.ErrorDetails.MANIFEST_PARSING_ERROR:"function"==typeof jw_mediaError&&jw_mediaError("video","NW_ER_MANIFEST_PARSING_ERROR "),"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","NW_ER_MANIFEST_PARSING_ERROR");break;case Hls.ErrorDetails.LEVEL_LOAD_ERROR:"function"==typeof jw_mediaError&&jw_mediaError("video","NW_ER_LEVEL_LOAD_ERROR "),"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","NW_ER_LEVEL_LOAD_ERROR");break;case Hls.ErrorDetails.LEVEL_LOAD_TIMEOUT:"function"==typeof jw_mediaError&&jw_mediaError("video","NW_ER_LEVEL_LOAD_TIMEOUT"),"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","NW_ER_LEVEL_LOAD_TIMEOUT");break;case Hls.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:"function"==typeof jw_mediaError&&jw_mediaError("video","NW_ER_AUDIO_TRACK_LOAD_ERROR"),"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","NW_ER_AUDIO_TRACK_LOAD_ERROR");break;case Hls.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:"function"==typeof jw_mediaError&&jw_mediaError("video","NW_ER_AUDIO_TRACK_LOAD_TIMEOUT"),"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","NW_ER_AUDIO_TRACK_LOAD_TIMEOUT");break;case Hls.ErrorDetails.FRAG_LOAD_ERROR:"function"==typeof jw_mediaError&&jw_mediaError("video","NW_ER_FRAG_LOAD_ERROR"),"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","NW_ER_FRAG_LOAD_ERROR");break;case Hls.ErrorDetails.FRAG_LOAD_TIMEOUT:"function"==typeof jw_mediaError&&jw_mediaError("video","NW_ER_FRAG_LOAD_TIMEOUT"),"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","NW_ER_FRAG_LOAD_TIMEOUT");break;case Hls.ErrorDetails.KEY_LOAD_ERROR:"function"==typeof jw_mediaError&&jw_mediaError("video","NW_ER_KEY_LOAD_ERROR"),"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","NW_ER_KEY_LOAD_ERROR");break;case Hls.ErrorDetails.KEY_LOAD_TIMEOUT:"function"==typeof jw_mediaError&&jw_mediaError("video","NW_ER_KEY_LOAD_TIMEOUT"),"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","NW_ER_KEY_LOAD_TIMEOUT");break;case Hls.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR:"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","MD_ER_MANIFEST_INCOMPATIBLE_CODECS_ERROR");break;case Hls.ErrorDetails.FRAG_LOOP_LOADING_ERROR:"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","MD_ER_FRAG_LOOP_LOADING_ERROR");break;case Hls.ErrorDetails.FRAG_DECRYPT_ERROR:"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","MD_ER_FRAG_DECRYPT_ERROR");break;case Hls.ErrorDetails.FRAG_PARSING_ERROR:"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","MD_ER_FRAG_PARSING_ERROR");break;case Hls.ErrorDetails.BUFFER_ADD_CODEC_ERROR:"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","MD_ER_BUFFER_ADD_CODEC_ERROR");break;case Hls.ErrorDetails.BUFFER_APPEND_ERROR:"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","MD_ER_BUFFER_APPEND_ERROR");break;case Hls.ErrorDetails.BUFFER_APPENDING_ERROR:"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","MD_ER_BUFFER_APPENDING_ERROR");break;case Hls.ErrorDetails.BUFFER_STALLED_ERROR:"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","MD_ER_BUFFER_STALLED_ERROR");break;case Hls.ErrorDetails.BUFFER_FULL_ERROR:"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","MD_ER_BUFFER_FULL_ERROR");break;case Hls.ErrorDetails.BUFFER_SEEK_OVER_HOLE:"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","MD_ER_BUFFER_SEEK_OVER_HOLE");break;case Hls.ErrorDetails.BUFFER_NUDGE_ON_STALL:"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","MD_ER_BUFFER_NUDGE_ON_STALL");break;case Hls.ErrorDetails.REMUX_ALLOC_ERROR:"function"==typeof jw_mediaError&&jw_mediaError("video","MX_ER_REMUX_ALLOC_ERROR "),"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","MX_ER_REMUX_ALLOC_ERROR");break;case Hls.ErrorDetails.LEVEL_SWITCH_ERROR:"function"==typeof jw_mediaError&&jw_mediaError("video","OTHER_ER_LEVEL_SWITCH_ERROR"),"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","OTHER_ER_LEVEL_SWITCH_ERROR");break;case Hls.ErrorDetails.INTERNAL_EXCEPTION:"function"==typeof jw_mediaError&&jw_mediaError("video","OTHER_ER_INTERNAL_EXCEPTION"),"function"==typeof jw_mediaError_tracking&&jw_mediaError_tracking("video","OTHER_ER_INTERNAL_EXCEPTION")}}),q.on(Hls.Events.MANIFEST_PARSED,function(){if(F.find(".setquality").html("Auto <span class='arw'></span>"),F.find(".qualityList").html(""),F.find(".vdoQuality").hide(),F.find(".jw_settings").hide(),q.levels.length>0){"function"==typeof jw_level_fetched&&jw_level_fetched(q.levels);var e=[],i=[],t=[],a=["144","240","360","480","720","1080","1440","2160"];F.find(".jw_settings").css("display","inline-block"),F.find(".vdoQuality").show();var o=q.levels;o.sort(function(e,i){return parseFloat(e.bitrate)-parseFloat(i.bitrate)});var r="",d=0,s=o.length;if(1==s)F.find(".vdoQuality").hide(),r+="<li data-index="+o[0].index+'> <div> <input checked type="radio" id="'+o[0].height+'p" name="radio"/> <label for="'+o[0].height+'"><span></span>'+o[0].height+"p</label></div></li>";else if(s>1){if(F.find(".jw_settings").css("display","inline-block"),F.find(".vdoQuality").show(),null==o[0].height||"undefined"==o[0].height){if(n("resolution not present, bitrate logic applied"),"movies"==O.vd.contenttype)for(d=0;d<s;d++){n("movie"+d+" bitrate: "+(l=o[d].bitrate/1e3)),l>=100&&l<400?e.push(0):l>=400&&l<750?e.push(1):l>=750&&l<1e3?e.push(2):l>=1e3&&l<1600?e.push(3):l>=1600&&l<3e3?e.push(4):l>=3e3&&e.push(5)}else if("videos"==O.vd.contenttype)for(d=0;d<s;d++){var l;n("video"+d+" bitrate: "+(l=o[d].bitrate/1e3)),l>=144&&l<240?e.push(0):l>=240&&l<360?e.push(1):l>=360&&l<480?e.push(2):l>=480&&l<576?e.push(3):l>=576&&l<720?e.push(4):l>=720&&l<1080?e.push(5):l>=1080&&e.push(6)}for(n("before sorting"),n(e),e.sort(function(e,i){return e-i}),n("sorted"),n(e),i=e.filter(function(e,i,t){return i==t.indexOf(e)}),n("after removing duplicates"),n(i),t=[],d=0;d<i.length;d++)t.push(e.lastIndexOf(i[d]));for(e=t,n("after stablilizing qualities"),n(e),d=(s=e.length)-1;d>=0;d--)r+="<li data-index="+e[d]+'> <div> <input type="radio" id="'+a[i[d]]+'p" name="radio"/> <label for="'+a[i[d]]+'"><span></span>'+a[i[d]]+"p</label></div></li>";console.dir(o)}else{e=[];if(o[s-1].width/o[s-1].height<=16/9)for(d=0;d<s;d++)n("Player:"+d+" height: "+o[d].height),o[d].height<=144?e.push(0):o[d].height>144&&o[d].height<=240?e.push(1):o[d].height>240&&o[d].height<=360?e.push(2):o[d].height>360&&o[d].height<=480?e.push(3):o[d].height>480&&o[d].height<=720?e.push(4):o[d].height>720&&o[d].height<=1080?e.push(5):e.push(6);else for(d=0;d<s;d++)n("Player:"+d+" width: "+o[d].width),o[d].width<=256?e.push(0):o[d].width>256&&o[d].width<=426?e.push(1):o[d].width>426&&o[d].width<=640?e.push(2):o[d].width>640&&o[d].width<=854?e.push(3):o[d].width>854&&o[d].width<=1280?e.push(4):o[d].width>1280&&o[d].width<=2560?e.push(5):o[d].width>2560&&o[d].width<=3840&&e.push(6);for(n("before sorting"),n(e),e.sort(function(e,i){return e-i}),n("sorted"),n(e),i=e.filter(function(e,i,t){return i==t.indexOf(e)}),n("after removing duplicates"),n(i),t=[],d=0;d<i.length;d++)t.push(e.lastIndexOf(i[d]));for(e=t,n("after stablilizing qualities"),n(e),d=(s=e.length)-1;d>=0;d--)r+="<li data-index="+e[d]+'> <div> <input type="radio" id="'+a[i[d]]+'p" name="radio"/> <label for="'+a[i[d]]+'"><span></span>'+a[i[d]]+"p</label></div></li>"}r+='<li data-index="-1"> <div> <input checked type="radio" id="Auto" name="radio"/> <label for="auto"><span></span>Auto</label></div></li>'}F.find(".qualityList").html(r),F.find(".qualitybox").height("auto"),F.find(".qualityList li").click(function(e){q.currentLevel=parseInt($(this).attr("data-index"));var i=$(this).find("input").attr("id");$(this).find("input").attr("checked",!0),F.find(".setquality").html(i+" <span class='arw'></span>"),F.find(".qualitybox").removeClass("setqual"),F.find(".icon-ic_settings_1-09").removeClass("actcol")}),F.find(".settingbox").height("auto")}F.find("#playerProgressbar").slider("value",0)}),q.on(Hls.Events.FRAG_LOAD_PROGRESS,function(e,i){var t=i.frag.start/videoPlayerObj.duration*100;F.find(".bufferBar").css({width:t+"%"})}),q.on(Hls.Events.LEVEL_SWITCHING,function(e,i){"INPROGRESS",y="BUFFERING",n("LEVEL_SWITCHING")}),q.on(Hls.Events.LEVEL_SWITCHED,function(e,i){"SWITCHED",n("LEVEL_SWITCHED"),n("current level: "+q.currentLevel)}))}function fe(){P.dashprotection.key.length>0&&("widevine"==P.dashprotection.keytype?P.dashprotection.keytype="com.widevine.alpha":"playready"==P.dashprotection.keytype&&(P.dashprotection.keytype="com.microsoft.playready"),v[P.dashprotection.keytype]={serverURL:P.dashprotection.key}),(u=dashjs.MediaPlayer().create()).getDebug().setLogToBrowserConsole(!0),P.dashprotection.key.length>0&&u.setProtectionData(v),u.initialize(videoPlayerObj,P.file,!0),u.on(dashjs.MediaPlayer.events.ERROR,function(e){n("dash error")}),u.on(dashjs.MediaPlayer.events.PLAYBACK_PROGRESS,function(e){var i=(videoPlayerObj.currentTime+u.getBufferLength())/videoPlayerObj.duration*100;F.find(".bufferBar").css({width:i+"%"})}),u.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED,function(e){var i=u.getBitrateInfoListFor("video");if(i.length>0){F.find(".setquality").html("Auto <span class='arw'></span>"),F.find(".qualityList").html(""),F.find(".vdoQuality").hide(),F.find(".jw_subtitle").hide(),F.find(".jw_settings").hide(),"function"==typeof jw_level_fetched&&jw_level_fetched(i);var t=[],a=[],o=[],r=["144","240","360","480","720","1080","1440","2160"];F.find(".jw_settings").css("display","inline-block"),F.find(".vdoQuality").show();var d="",s=0,l=i.length;if(1==l)F.find(".vdoQuality").hide(),d+="<li data-index="+i[0].index+'> <div> <input checked type="radio" id="'+i[0].height+'p" name="radio"/> <label for="'+i[0].height+'"><span></span>'+i[0].height+"p</label></div></li>";else if(l>1){F.find(".jw_settings").css("display","inline-block"),F.find(".vdoQuality").show(),t=[];if(i[l-1].width/i[l-1].height<=16/9)for(s=0;s<l;s++)i[s].height<=144?t.push(0):i[s].height>144&&i[s].height<=240?t.push(1):i[s].height>240&&i[s].height<=360?t.push(2):i[s].height>360&&i[s].height<=480?t.push(3):i[s].height>480&&i[s].height<=720?t.push(4):i[s].height>720&&i[s].height<=1080?t.push(5):t.push(6);else for(s=0;s<l;s++)i[s].width<=256?t.push(0):i[s].width>256&&i[s].width<=426?t.push(1):i[s].width>426&&i[s].width<=640?t.push(2):i[s].width>640&&i[s].width<=854?t.push(3):i[s].width>854&&i[s].width<=1280?t.push(4):i[s].width>1280&&i[s].width<=2560?t.push(5):i[s].width>2560&&i[s].width<=3840&&t.push(6);for(t.sort(function(e,i){return e-i}),a=t.filter(function(e,i,t){return i==t.indexOf(e)}),o=[],s=0;s<a.length;s++)o.push(t.lastIndexOf(a[s]));for(s=(l=(t=o).length)-1;s>=0;s--)d+="<li data-index="+t[s]+'> <div> <input type="radio" id="'+r[a[s]]+'p" name="radio"/> <label for="'+r[a[s]]+'"><span></span>'+r[a[s]]+"p</label></div></li>"}d+='<li data-index="-1"> <div> <input checked type="radio" id="Auto" name="radio"/> <label for="auto"><span></span>Auto</label></div></li>',F.find(".qualityList").html(d),F.find(".qualitybox").height("auto"),F.find(".qualityList li").click(function(e){var i=parseInt($(this).attr("data-index"));-1==i?u.setAutoSwitchQuality(!0):u.setAutoSwitchQuality(!1),n("seltd: "+i),u.setQualityFor("video",i);var t=$(this).find("input").attr("id");$(this).find("input").attr("checked",!0),F.find(".setquality").html(t+" <span class='arw'></span>"),F.find(".qualitybox").removeClass("setqual"),F.find(".icon-ic_settings_1-09").removeClass("actcol")}),F.find(".settingbox").height("auto")}})}function ve(){videoPlayerObj.play(),k||""==P.ad_setup.tag||ie(),F.find(".jw_play").addClass("btnPause"),F.find(".jw_play").removeClass("btnPlay"),F.find(".jw-playBtn").hide()}function _e(){videoPlayerObj.pause(),F.find(".vp_skin").removeClass("mouseout"),F.find(".jw_play").addClass("btnPlay"),F.find(".jw_play").removeClass("btnPause"),S||F.find(".jw-playBtn").show()}function he(){clearTimeout(M),M=0,F.find(".vp_skin").removeClass("mouseout"),ye()}function ye(){0==M&&(M=setTimeout(function(){F.find(".vp_skin").hasClass("mouseout")||(clearTimeout(M),M=0,F.find(".vp_skin").addClass("mouseout"),F.find(".settingbox").removeClass("setshow"),F.find(".qualitybox").removeClass("setqual"),F.find(".captionbox").removeClass("setqual"))},1e4))}function me(){F.find(".jw-playBtn").hide(),S||F.find("#loadingVideo").show()}function we(e){if(0==isNaN(e)){e=Number(e);var i=Math.floor(e/3600),t=Math.floor(e%3600/60),a=Math.floor(e%3600%60);return(i>0?i+":"+(t<10?"0":""):"")+t+":"+(a<10?"0":"")+a}}function be(){var e=document.getElementById("hun_vp");document.getElementById("videoPlayerObj");$(this).find(".btnResize").toggleClass("icon-ic_fullscreen_exit-53"),$(".jw_favourite, .jw_download").toggle(),function(e){ge(S?"Safari":"other",e);F.find(".vp_skin").addClass("mouseout")}(e)}function ge(e,i){"Safari"==e?F.find(".videoPlayer").hasClass("jw_fullscreen")?("function"==typeof jw_videoExitFS&&jw_videoExitFS(),F.find(".videoPlayer").removeClass("jw_fullscreen"),F.find(".videoPlayer").unwrap(),$("body").removeClass("applefixed").remove(".appleOverlay"),F.find(".videoPlayer").width(ow+"px"),F.find(".videoPlayer").height(oh+"px"),setTimeout(function(){videoPlayerObj.play(!0),$(window).trigger("resize")},500)):("function"==typeof jw_videoEnterFS&&jw_videoEnterFS(),ow=F.find(".videoPlayer").width(),oh=F.find(".videoPlayer").height(),$("body").addClass("applefixed"),F.find(".videoPlayer").addClass("jw_fullscreen").wrap("<div class='appleFullscreen'></div>"),$("#hun_vp, #hun_vp #adContainer,#videoPlayerObj").css("width",$(window).width()+"px"),$("#hun_vp").parent().css("width",$(window).width()+"px"),$("#hun_vp, #hun_vp #adContainer,#videoPlayerObj").css("height",$(window).height()+"px"),$("#hun_vp").parent().css("height",$(window).height()+"px"),setTimeout(function(){videoPlayerObj.play(!0)},500)):$("#hun_vp").hasClass("playerFullScreen")?(n("videoplayer: exit from full screen"),F.find("#hun_vp").removeClass("playerFullScreen"),"function"==typeof jw_operaExitFS&&jw_operaExitFS(),document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()):(n("videoplayer: get ready to enter fullscreen"),$("body").addClass("fixed"),ow=F.find(".videoPlayer").width(),oh=F.find(".videoPlayer").height(),i.requestFullscreen?i.requestFullscreen():i.msRequestFullscreen?i.msRequestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen&&i.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT),F.find("#hun_vp").addClass("playerFullScreen"),Pe($(window).width()),setTimeout(function(){Ee()},500),F.find(".btnResize").addClass("icon-ic_fullscreen_exit-53"))}function Ee(){n("window height:"+$(window).height()+" / player height: "+$("#hun_vp #videoPlayerObj").height());var e=($(window).height()-F.find("#hun_vp #videoPlayerObj").height())/2;F.find("#hun_vp #videoPlayerObj, #hun_vp #adContainer").animate({top:e+"px"},100)}function je(){n("exitFullscreenFormality"),F.find("#hun_vp").removeClass("playerFullScreen"),F.find("#hun_vp #adContainer").css("top","0"),$("body").removeClass("fixed"),"function"==typeof jw_videoExitFS&&jw_videoExitFS(),F.find(".btnResize").removeClass("icon-ic_fullscreen_exit-53"),Pe(ow)}function Re(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||je()}function Oe(){"live"==O.playertype?($("#hun_vp").find("#jw_autoplay_li").hide(),$("#hun_vp").find(".timeBar, .playerProgressbar, #jw_autoplay_li").hide(),$("#hun_vp").addClass("playlive"),$("#hun_vp").removeClass("playmovie playvideo"),$(".liveRibbon").show()):"video"==O.playertype?($("#hun_vp").find(".timeBar, .playerProgressbar, #jw_autoplay_li").show(),$("#hun_vp").find("#jw_autoplay_li").show(),$("#hun_vp").addClass("playvideo"),$("#hun_vp").removeClass("playmovie playlive"),$(".liveRibbon").hide()):($("#hun_vp").find(".timeBar, .playerProgressbar, #jw_autoplay_li").show(),$("#hun_vp").find("#jw_autoplay_li").hide(),$("#hun_vp").removeClass("playvideo playlive"),$("#hun_vp").addClass("playmovie"),$(".liveRibbon").hide())}function Pe(e){var i=Math.round(e/16*9);$("#hun_vp, #hun_vp #adContainer,#videoPlayerObj").animate({width:e+"px"},100),$("#adContainer>div,#adContainer iframe").animate({width:e+"px"},100),$("#hun_vp, #hun_vp #adContainer,#videoPlayerObj").animate({height:i+"px"},100),$("#adContainer>div,#adContainer iframe").animate({height:i+"px"},100),n("resize triggered")}function Ce(e){e.playTime=0,e.pauseTime=0,e.bufferTime=0,e.idleTime=0,e.pauseCount=0,e.seekCount=0,e.loadTime=0,e.seeked=!1}function ke(e){clearInterval(e.playTimeInterval),e.playTimeInterval=0,clearInterval(e.pauseTimeInterval),e.pauseTimeInterval=0,clearInterval(e.idleTimeInterval),e.idleTimeInterval=0,clearInterval(e.bufferTimeInterval),e.bufferTimeInterval=0}F.find("#playerProgressbar").slider({range:"min",min:0,max:100,step:.1,value:2,stop:function(e,i){var t=videoPlayerObj.duration*i.value/100;videoPlayerObj.currentTime=t,videoPlayerObj.play(),O.seeked=!0,O.seekCount++,F.find(".jw_play").addClass("btnPause"),F.find(".jw_play").removeClass("btnPlay"),F.find(".jw-playBtn").hide(),"function"==typeof jw_seeked&&jw_seeked("video",P.mediaid,w,videoPlayerObj.currentTime)},start:function(e,i){w=videoPlayerObj.currentTime,"function"==typeof jw_seek&&jw_seek("video",P.mediaid,w)},slide:function(e,i){var t=videoPlayerObj.duration*i.value/100;videoPlayerObj.currentTime=t,videoPlayerObj.play(),O.seeked=!0}}),F.find("#soundControlbar").slider({orientation:"vertical",range:"min",min:0,max:100,value:N.volume,slide:function(e,i){F.find(".volumePercent").text(i.value),N.volume=i.value,videoPlayerObj.volume=i.value/100,i.value<1?$(".btnVolume").addClass("icon-ic_mute_1-38"):$(".btnVolume").removeClass("icon-ic_mute_1-38")}}),$(document).on("click",".onoffswitch-label",function(){$("#autoPlaySwitch").is(":checked")?autoplay_bol=!0:autoplay_bol=!1,"function"==typeof jw_vid_autoplay_changed&&jw_vid_autoplay_changed(autoplay_bol)}),$("#autoPlaySwitch").on("change",function(e){$(this).is(":checked")?autoplay_bol=!0:autoplay_bol=!1,"function"==typeof jw_vid_autoplay_changed&&jw_vid_autoplay_changed(autoplay_bol)}),I&&F.find(".volumebar").hide(),$(".liveRibbon").hide(),Oe(),O.mute&&(I&&F.find("#hun_vp").append('<b><button class="taptounmute playerControlbtn"><i class="playerIcons btnVolume icon-ic_volume_1-37"></i> TAP TO UNMUTE</button></b>'),videoPlayerObj.muted=!0,$(".btnVolume").addClass("icon-ic_mute_1-38"),F.find("#soundControlbar").slider("value",N.volume)),videoPlayerObj.autoplay=O.autoStart,videoPlayerObj.autoplay&&!I&&(k||""==P.ad_setup.tag||ie()),F.find(".taptounmute").on("click",function(){$(this).hide(),videoPlayerObj.muted=!1}),S&&(F.find(".vp_skin").hide(),F.find(".jw-playBtn").hide(),F.find("#loadingVideo").hide()),"hls"==P.type?(pe(),q.loadSource(P.file),q.attachMedia(videoPlayerObj)):"dash"==P.type?fe():"mp4"==P.type&&(videoPlayerObj.src=P.file,videoPlayerObj.load()),F.find(".jw_settings").click(function(){F.find(".jw_autoplay_li").hide(),F.find(".settingbox").hasClass("setshow")?F.find(".settingbox").removeClass("setshow"):(F.find(".captionbox").removeClass("setqual"),F.find(".qualitybox").hasClass("setqual")||F.find(".settingbox").addClass("setshow"))}),F.find(".setquality").click(function(){F.find(".qualitybox").hasClass("setqual")?F.find(".qualitybox").removeClass("setqual"):(F.find(".settingbox").removeClass("setshow"),F.find(".qualitybox").addClass("setqual"))}),F.find("#videoPlayerObj").click(function(e){I?(F.find(".vp_skin").removeClass("mouseout"),C&&clearTimeout(C),C=setTimeout(function(){F.find(".vp_skin").addClass("mouseout"),F.find(".soundControlbar").removeClass("show"),F.find(".qualitybox").removeClass("setqual"),F.find(".captionbox").removeClass("setqual"),F.find(".settingbox").removeClass("setshow")},8e3)):F.find(".jw_play").hasClass("btnPlay")?ve():_e()}),F.find(".jw-playBtn").click(function(e){F.find(".vp_skin").addClass("mouseout"),ve()}),F.find(".jw_play").click(function(e){$(this).hasClass("btnPlay")?ve():_e()}),F.find("#videoPlayerObj").hover(function(){},ye),F.find("#vp_skin").hover(function(){clearTimeout(M),M=0,F.find(".vp_skin").removeClass("mouseout")},ye),F.find("#videoPlayerObj").mousemove(he),F.find(".vp_skin").mousemove(he),F.find(".btnNxt").on("click",function(e){Ie(O,"video",L),"function"==typeof jw_video_player_next_button_clicked&&jw_video_player_next_button_clicked(0)}),F.find(".btnPre").on("click",function(e){Ie(O,"video",L),"function"==typeof jw_video_player_previous_button_clicked&&jw_video_player_previous_button_clicked(0)}),F.find(".jw_favourite").on("click",function(e){"function"==typeof jw_Video_favourite&&jw_Video_favourite(P.mediaid,P.title)}),F.find(".jw_download").on("click",function(e){"function"==typeof jw_Video_download&&(L=!0,jw_Video_download(P.mediaid,P.title))}),F.find(".jw_resize").click(function(e){be()}),$(window).on("backbutton",function(){n("player: back pressed")}),$(window).on("orientationchange",function(){n("player: orientationchange event tiggered"),$("#hun_vp").hasClass("playerFullScreen")&&setTimeout(function(){Ee()},500),S?F.find(".videoPlayer").hasClass("jw_fullscreen")&&setTimeout(function(){$("#hun_vp, #hun_vp #adContainer,#videoPlayerObj").css("width",$(window).width()+"px"),$("#hun_vp").parent().css("width",$(window).width()+"px"),$("#hun_vp, #hun_vp #adContainer,#videoPlayerObj").css("height",$(window).height()+"px"),$("#hun_vp").parent().css("height",$(window).height()+"px"),setTimeout(function(){videoPlayerObj.play(!0)},500)},500):setTimeout(function(){Pe()},500)}),document.addEventListener&&(document.addEventListener("webkitfullscreenchange",Re,!1),document.addEventListener("mozfullscreenchange",Re,!1),document.addEventListener("fullscreenchange",Re,!1),document.addEventListener("MSFullscreenChange",Re,!1)),F.keyup(function(e){27==e.keyCode&&(F.find(".videoPlayer").width(ow+"px"),F.find(".videoPlayer").height(oh+"px"),F.find(".btnResize").removeClass("icon-ic_fullscreen_exit-53"))}),$(window).resize(function(){$("body").hasClass("applefixed")&&(F.find(".videoPlayer").width($(window).width()+"px"),F.find(".videoPlayer").height($(window).height()+"px")),A=F.width(),x=A/16*9,F.find(".videoPlayer").width(A+"px"),F.find(".videoPlayer").height(x+"px"),F.find("#videoPlayerObj").width(A+"px"),F.find("#videoPlayerObj").height(x+"px")}),F.find(".btnVolume").click(function(){$(this).hasClass("icon-ic_mute_1-38")?(F.find("#soundControlbar").slider("value",N.volume),$(this).removeClass("icon-ic_mute_1-38"),videoPlayerObj.volume=parseInt(N.volume)/100):(F.find("#soundControlbar").slider("value",0),videoPlayerObj.volume=parseInt(0),$(this).addClass("icon-ic_mute_1-38"))}),F.find(".btnPre_30").click(function(e){var i=videoPlayerObj.currentTime-30;i<0&&(i=0),videoPlayerObj.currentTime=i,videoPlayerObj.play()}),F.find(".btnNxt_30").click(function(e){var i=videoPlayerObj.currentTime+30;i>videoPlayerObj.duration?(i=videoPlayerObj.duration,videoPlayerObj.currentTime=i-1,_e(),setTimeout(function(){S||$(".jw-playBtn").show()},300)):(videoPlayerObj.currentTime=i,ve())}),F.find(".jw_volume").parent("li").mouseenter(function(){F.find(".soundControlbar").addClass("show animate fadeIn"),$(".settingbox").removeClass("setshow"),$(".qualitybox").removeClass("setqual"),F.find(".btnVolume").addClass("actcol"),F.find(".icon-ic_settings_1-09").removeClass("actcol")}).mouseleave(function(){F.find(".soundControlbar").removeClass("show animate fadeIn"),F.find(".btnVolume").removeClass("actcol")}),videoPlayerObj.addEventListener("seeking",function(){clearInterval(O.playTimeInterval),O.playTimeInterval=0,O.pauseTimeInterval=setInterval(function(){O.pauseTime++},1e3)}),videoPlayerObj.addEventListener("seeked",function(){clearInterval(O.pauseTimeInterval)}),videoPlayerObj.addEventListener("pause",function(){n("pause event"),O.pauseCount++,clearInterval(O.playTimeInterval),O.playTimeInterval=0,O.pauseTimeInterval=setInterval(function(){O.pauseTime++},1e3),Math.ceil(videoPlayerObj.currentTime)!=Math.ceil(videoPlayerObj.duration)&&"function"==typeof jw_pause_evt&&jw_pause_evt("video",O.vd.mediaid),y="PAUSE"}),videoPlayerObj.addEventListener("play",function(){clearInterval(O.pauseTimeInterval),F.find("#loadingVideo").hide(),"live"==O.playertype&&0==_&&(n("live player"),_=!0),h?(n("resume event"),"function"==typeof jw_resume&&jw_resume("video",O.vd.mediaid)):(n("play event"),h=!0,"function"==typeof jw_playing&&jw_playing("video",O.vd.mediaid)),y="PLAY",F.find(".vp_skin").removeClass("mouseout")}),videoPlayerObj.addEventListener("timeupdate",function(e){y="PLAYING",0==O.playTimeInterval&&(O.playTimeInterval=setInterval(function(){O.playTime++},1e3)),F.find("#loadingVideo").hide(),W?F.find("#adContainer").show():F.find("#adContainer").hide(),clearInterval(O.bufferTimeInterval),F.find(".bg_logo").hide();switch(videoPlayerObj.paused){case!1:F.find(".jw_play").hasClass("btnPause")||(F.find(".jw_play").addClass("btnPause"),F.find(".jw_play").removeClass("btnPlay"),F.find(".jw-playBtn").hide())}var i=videoPlayerObj.currentTime/videoPlayerObj.duration*100;F.find(".jw-playBtn").hide(),videoPlayerObj.currentTime>=1&&(F.find(".jw_position").text(we(videoPlayerObj.currentTime)),F.find(".jw_duration").text(we(videoPlayerObj.duration))),F.find("#playerProgressbar").slider("value",i);var t=O.extraParam.viewingTime;rentPri=O.extraParam.rentPrice,Math.floor(videoPlayerObj.currentTime/60)>=t&&-1!=t&&(videoPlayerObj.paused||(videoPlayerObj.pause(),videoPlayerObj.poster="",Ie(O,"video",L),F.find(".vp_skin").addClass("mouseout"),F.find(".soundControlbar").removeClass("show"),F.find(".jw-playBtn").hide(),"function"==typeof showNotificationPopup&&showNotificationPopup())),videoPlayerObj.currentTime>videoPlayerObj.duration-10&&0==T&&$("#autoPlaySwitch").is(":checked")&&"function"==typeof showApnPopup&&1!=O.vd.mediaid&&(showApnPopup(),T=!0)}),videoPlayerObj.addEventListener("waiting",function(){1==O.autoStart?me():F.find("#loadingVideo").hide(),"function"==typeof jw_video_buffering&&jw_video_buffering(),O.bufferTimeInterval=setInterval(function(){O.bufferTime++},1e3)}),videoPlayerObj.addEventListener("ended",function(){n("jw_VideoComplete called"),"function"==typeof jw_VideoComplete&&jw_VideoComplete("video",O.vd.mediaid),_=!1,y="COMPLETE",Ie(O,"video",L),F.find(".vp_skin").removeClass("mouseout"),F.find(".jw_play").addClass("btnPlay"),F.find(".jw_play").removeClass("btnPause"),S||F.find(".jw-playBtn").show(),F.find("#autoplayNotification").remove(),ke(O),Ce(O)}),videoPlayerObj.addEventListener("canplay",function(){F.find("#playerProgressbar").slider("value",0);var e=Math.ceil(Math.floor(videoPlayerObj.duration/10)/O.spd_extra.thumb_col_count),i=(e*O.spd_extra.thumb_col_count).toString();O.spd_extra.thumbs_in_one_sprite=i,O.spd_extra.thumb_row_count=e.toString(),F.find(".jw_position").text(we(0)),F.find(".jw_duration").text(we(0)),function(){c=O.vd.spd;var e=O.spd_extra;c.sprite_image_path[0].path.length>0&&0==I&&F.find(".playerProgressbar").hover(function(i){F.find(".thumb").css("display","block"),F.find(".thumb").css("width",e.thumb_width),F.find(".thumb").css("height",e.thumb_height),$(this).on("mousemove",function(i){i.stopPropagation();var t=$(this).width(),a=$(this).offset(),n=Math.round((i.pageX-a.left)/t*100)+0,o=De()*n/100,r=Math.floor(o/(e.thumbs_in_one_sprite*e.gap_in_secs)),d=F.find(".vp_skin").height()+5;F.find(".thumb").css("bottom",d+"px");var s=F.find(".thumb").width()/2,l=F.find("#hun_vp").offset().left,u=i.pageX-s-l,p=F.find("#hun_vp").width()-2*s-6;u<6&&(u=6),u>p&&(u=p),F.find(".thumb").css("left",u+"px"),F.find(".thumb").css("background-image","url("+c.sprite_image_path[r].path+")");var f=Math.floor(o/e.thumbs_in_one_sprite),v=Math.floor(o-f*e.thumbs_in_one_sprite),_=Math.floor(v/e.gap_in_secs)*parseInt(e.thumb_width),h=Math.floor(o/(e.gap_in_secs*e.thumb_col_count))%e.thumb_row_count*parseInt(e.thumb_height);F.find(".thumb").css("background-position","-"+_+"px -"+h+"px")})},function(e){F.find(".thumb").css("display","none")})}(),"probably"===videoPlayerObj.canPlayType("application/vnd.apple.mpegurl")||"maybe"===videoPlayerObj.canPlayType("application/vnd.apple.mpegurl")?(n("player: hls is playable"),videoPlayerObj.type="application/vnd.apple.mpegurl"):videoPlayerObj.type="","function"==typeof jw_videoStarted&&jw_videoStarted("video",O.vd.mediaid)}),videoPlayerObj.addEventListener("error",function(){"dash"!=P.type&&(n("error mp4"),"function"==typeof jw_mediaError&&jw_mediaError("video","media error"),""!=O.extraParam.backup&&loadNewPlaylist(O.extraParam.backup))}),videoPlayerObj.addEventListener("loadstart",function(){F.find("#playerProgressbar").slider("value",0),F.find(".setquality").html("Auto <span class='arw'></span>"),F.find(".qualityList").html(""),F.find(".vdoQuality").hide(),F.find(".jw_settings").hide(),1==O.autoStart?me():(S||F.find(".jw-playBtn").show(),F.find("#loadingVideo").hide())}),"function"==typeof jw_player_ready&&setTimeout(function(){jw_player_ready()},4e3),player_config_object=new Object,window.onbeforeunload=function(){Ie(O,"video",L)};var Te=0;function Ae(e){ae(),_=!1,F.find(".jw_position").text(we(0)),F.find(".jw_duration").text(we(0)),F.find("#autoplayNotification").remove(),F.find(".bufferBar").css("width","0"),F.find("#playerProgressbar").slider("value",0),$("#hun_vp").find("video").removeAttr("crossOrigin"),$("#hun_vp").find("video").attr("src",""),$("#hun_vp").find("video").removeAttr("preload","metadata"),O.vd.tracks[0].file="",k=!1,T=!1,$.extend(!0,P,e),O.vd=P,b=0,F.find(".jw_subtitle").hide(),F.find(".vp_skin").addClass("mouseout"),F.find(".jw_play").addClass("btnPause"),F.find(".jw_play").removeClass("btnPlay"),F.find(".jw-playBtn").hide(),Oe(),ke(O),"function"==typeof jw_song_changed&&jw_song_changed("video",O.vd.mediaid),1==O.autoStart?me():(S||F.find(".jw-playBtn").show(),F.find("#loadingVideo").hide()),""!=P.ad_setup.tag?(n("Ad tag present"),z=!0,$("#adContainer").show(),"hls"==P.type?(n("hls type"),q.destroy(),q=new Hls(D),pe(),xe()):"dash"==P.type?(n("dash type"),fe()):(n("mp4 type"),videoPlayerObj.src=P.file,1==O.autoStart&&videoPlayerObj.play()),k||""==P.ad_setup.tag||ie()):(n("no Ad tag"),"hls"==P.type?(n("hls type"),q.destroy(),q=new Hls(D),pe(),xe()):"dash"==P.type?(n("dash type"),fe()):(n("mp4 type"),videoPlayerObj.src=P.file,1==O.autoStart&&videoPlayerObj.play())),h=!1}function xe(){q.loadSource(P.file),q.attachMedia(videoPlayerObj)}function Le(e){for(var i=e+"=",t=document.cookie.split(";"),a=0;a<t.length;a++){for(var n=t[a];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(i))return n.substring(i.length,n.length)}return""}function Ie(e,i,t){if(e.loginStatus)var a="full";else a="preview";var o,r,d,s,l,u,c,p,f,v;"video"==i&&(s="videos",o=e.vd.mediaid,r=e.vd.title,d=e.vd.contenttype,v="",l=e.vd.vendor,u=e.vd.genre,c=e.vd.singer,p="",f=e.vd.language);var _=e.playTime;t&&(_="");new Date;var h={url:m+"//"+window.location.hostname+window.location.pathname,content_title:r||"",content_id:o?o.toString():"",content_type:d||"",content_viewing:a||"",app:e.platform?e.platform:"WEB",property:e.property?e.property:"HUNGAMA",playtime:_.toString()?_.toString():"",buffer:e.bufferTime?e.bufferTime.toString():"",seekcount:e.seekCount?e.seekCount.toString():"",_huid:Le("_huid")?Le("_huid"):"",type:i,pause:e.pauseTime?e.pauseTime.toString():"",pausecount:e.pauseCount?e.pauseCount.toString():"",s:e.subscribeStatus?e.subscribeStatus:"",sp:e.subscriptionPrice?e.subscriptionPrice.toString():"",ltime:e.loadTime?e.loadTime.toString():"",errormessage:e.errorMessage?e.errorMessage:"",subcategory:s,event:t?"downloaded":"not_downloaded",category:d||"",id:v?v.toString():"",email:e.email?e.email:"",userid:e.userid?e.userid:"",vendor:l||"",genere:u||"",singer:c||"",name:p||"",language:f||""};"1"!=h.content_id&&$.ajax({type:"GET",url:E+"?query="+JSON.stringify(h),contentType:"text/plain",xhrFields:{withCredentials:!1},success:function(){},error:function(){}});var y={ver:encodeURI(ver_check),aff_id:e.aff_id?e.aff_id:0,dos:e.dos?e.dos:"",ctitle:r?encodeURI(r):"",cid:o?o.toString():"",ctype:d||"",uevent:"full",platform:e.platform?e.platform:"WEB",property:e.property?e.property:"WEB",dur:_.toString()?_.toString():"",buff:e.bufferTime?e.bufferTime.toString():"",uid:e.userid?e.userid:Le("_huid"),ctype:d||"",alb_id:v?v.toString():"",cgenre:u||"",artist:c?encodeURI(c):"",alb_title:p?encodeURI(p):"",clang:f||"",stype:"stream",era:e.vd.year,url:encodeURI(m+"//"+window.location.hostname+window.location.pathname),ad_play:Te};n("New param data");var w=Math.floor(videoPlayerObj.duration),b=Math.floor(y.dur);if("1"!=y.cid&&(w==b||b>=w-5)&&n("Total Duration: "+w+" | Total played: "+b),"play.hungama.com"==location.hostname&&"1"!=y.cid){var g="",O="",P="";"function"==typeof get_device_info&&(g=get_device_info().device_model,O=get_device_info().os_name,P=get_device_info().browser),K&&(z=!0);var C={platform:"WEB",property:"PLAYHUNGAMA",device_name:g,os_name:O,browser_name:P,adt_adTagPresent:z,adt_adImpre:K,adt_adStart:Q,adt_adError:Y};n("playhungama_tracking: "+C),$.ajax({type:"GET",url:R+"?"+$.param(C),contentType:"text/plain",xhrFields:{withCredentials:!1},success:function(){n("playhungama_tracking_url success"),z=!1,K=!1,Q=!1,Y=!1},error:function(){n("playhungama_tracking_url failed"),z=!1,K=!1,Q=!1,Y=!1}})}"1"!=y.cid&&$.ajax({type:"GET",url:j+"?"+$.param(y),contentType:"text/plain",xhrFields:{withCredentials:!1},success:function(){Ce(e),ke(e)},error:function(){Ce(e),ke(e)}})}function Se(e){videoPlayerObj.currentTime=e,videoPlayerObj.play()}function De(){return videoPlayerObj.duration}return{load:Ae,hls:q,videoPlayerObj:videoPlayerObj,config:O,play:ve,pause:_e,seek:Se,stop:function(){F.find(".jw_position").text(we(0)),F.find(".jw_duration").text(we(0)),videoPlayerObj.currentTime=0,videoPlayerObj.pause(),videoPlayerObj.removeAttribute("src"),F.find(".vp_skin").removeClass("mouseout"),F.find(".jw_play").addClass("btnPlay"),F.find(".jw_play").removeClass("btnPause"),S||F.find(".jw-playBtn").show(),setTimeout(function(){y="IDLE"},500)},getPlaylist:function(){return P},getPosition:function(){return videoPlayerObj.currentTime},getDuration:De,playAd:function(e){k=!1,P.ad_setup.tag=e,k||""==P.ad_setup.tag||ie()},getState:function(){return y},resizePlayer:Pe,resetPlayer:function(){},playDefault:function(){Ae({file:"http://www.hungama.com/assets/includes/silence-1sec.mp3",mediaid:"1",title:"Uff Yeh Noor",albumname:"Noor",type:"mp3",image:"",imagethumb:"",genre:"Soundtrack",lang:"Hindi",year:"2017",contenttype:"video",ad_setup:{client:"googima",tag:""},tracks:[{file:"",label:"English",kind:"captions",default:!0}]})},destroyAdAndVideo:ae,pauseAd:function(){G.pause(),n("Ad Pause Called"),"function"==typeof jw_adPaused&&jw_adPaused()},fs:be,exitFullscreenFormality:je,dashplayer:u,startAds:ee,adsManager:G,setDebug:function(e){a=e}}}